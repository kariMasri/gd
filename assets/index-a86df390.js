import{aM as ur,ab as Ht}from"./index-c4efdbaa.js";function w(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lr=Object.defineProperty,gn=(t,e)=>{for(var n in e)lr(t,n,{get:e[n],enumerable:!0})};function pr(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,n])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`).join("&")}function yn(t){let e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function vn(t){return t||document.head}var dr="hCaptcha-script",En="hCaptchaOnLoad",Kt="script-error",W="@hCaptcha/loader",Sn=Object.prototype.toString;function Tn(t){switch(Sn.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return O(t,Error)}}function nt(t,e){return Sn.call(t)===`[object ${e}]`}function fe(t){return nt(t,"ErrorEvent")}function Ye(t){return nt(t,"DOMError")}function hr(t){return nt(t,"DOMException")}function j(t){return nt(t,"String")}function bn(t){return t===null||typeof t!="object"&&typeof t!="function"}function X(t){return nt(t,"Object")}function Bt(t){return typeof Event<"u"&&O(t,Event)}function _r(t){return typeof Element<"u"&&O(t,Element)}function fr(t){return nt(t,"RegExp")}function me(t){return!!(t&&t.then&&typeof t.then=="function")}function mr(t){return X(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Rn(t){return typeof t=="number"&&t!==t}function O(t,e){try{return t instanceof e}catch{return!1}}function xn(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function J(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Ge(t,e){if(!Array.isArray(t))return"";let n=[];for(let r=0;r<t.length;r++){let i=t[r];try{xn(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function gr(t,e,n=!1){return j(t)?fr(e)?e.test(t):j(e)?n?t===e:t.includes(e):!1:!1}function ut(t,e=[],n=!1){return e.some(r=>gr(t,r,n))}function yr(t,e,n=250,r,i,s,a){if(!s.exception||!s.exception.values||!a||!O(a.originalException,Error))return;let o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=vr(Xt(t,e,i,a.originalException,r,s.exception.values,o,0),n))}function Xt(t,e,n,r,i,s,a,o){if(s.length>=n+1)return s;let c=[...s];if(O(r[i],Error)){Oe(a,o);let l=t(e,r[i]),u=c.length;$e(l,i,u,o),c=Xt(t,e,n,r[i],i,[l,...c],l,u)}return Array.isArray(r.errors)&&r.errors.forEach((l,u)=>{if(O(l,Error)){Oe(a,o);let p=t(e,l),h=c.length;$e(p,`errors[${u}]`,h,o),c=Xt(t,e,n,l,i,[p,...c],p,h)}}),c}function Oe(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function $e(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function vr(t,e){return t.map(n=>(n.value&&(n.value=J(n.value,e)),n))}function ft(t){return t&&t.Math==Math?t:void 0}var E=typeof globalThis=="object"&&ft(globalThis)||typeof window=="object"&&ft(window)||typeof self=="object"&&ft(self)||typeof global=="object"&&ft(global)||function(){return this}()||{};function lt(){return E}function Dn(t,e,n){let r=n||E,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}var Dt=lt(),Er=80;function Z(t,e={}){try{let n=t,r=5,i=[],s=0,a=0,o=" > ",c=o.length,l,u=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||Er;for(;n&&s++<r&&(l=Sr(n,u),!(l==="html"||s>1&&a+i.length*c+l.length>=p));)i.push(l),a+=l.length,n=n.parentNode;return i.reverse().join(o)}catch{return"<unknown>"}}function Sr(t,e){let n=t,r=[],i,s,a,o,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());let l=e&&e.length?e.filter(p=>n.getAttribute(p)).map(p=>[p,n.getAttribute(p)]):null;if(l&&l.length)l.forEach(p=>{r.push(`[${p[0]}="${p[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&j(i))for(s=i.split(/\s+/),c=0;c<s.length;c++)r.push(`.${s[c]}`);let u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)a=u[c],o=n.getAttribute(a),o&&r.push(`[${a}="${o}"]`);return r.join("")}function Tr(){try{return Dt.document.location.href}catch{return""}}function br(t){return Dt.document&&Dt.document.querySelector?Dt.document.querySelector(t):null}var Rr="Sentry Logger ",Zt=["debug","info","warn","error","log","assert","trace"],kt={};function wn(t){if(!("console"in E))return t();let e=E.console,n={},r=Object.keys(kt);r.forEach(i=>{let s=kt[i];n[i]=e[i],e[i]=s});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}function xr(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Zt.forEach(n=>{e[n]=(...r)=>{t&&wn(()=>{E.console[n](`${Rr}[${n}]:`,...r)})}}):Zt.forEach(n=>{e[n]=()=>{}}),e}var d=xr(),Dr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wr(t){return t==="http"||t==="https"}function It(t,e=!1){let{host:n,path:r,pass:i,port:s,projectId:a,protocol:o,publicKey:c}=t;return`${o}://${c}${e&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${a}`}function Nr(t){let e=Dr.exec(t);if(!e){console.error(`Invalid Sentry Dsn: ${t}`);return}let[n,r,i="",s,a="",o]=e.slice(1),c="",l=o,u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){let p=l.match(/^\d+/);p&&(l=p[0])}return Nn({host:s,pass:i,path:c,projectId:l,port:a,protocol:n,publicKey:r})}function Nn(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function kr(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;let{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(i=>t[i]?!1:(d.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?wr(r)?e&&isNaN(parseInt(e,10))?(d.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(d.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(d.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Cr(t){let e=typeof t=="string"?Nr(t):Nn(t);if(!(!e||!kr(e)))return e}var I=class extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}};function R(t,e,n){if(!(e in t))return;let r=t[e],i=n(r);typeof i=="function"&&kn(i,r),t[e]=i}function ge(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function kn(t,e){try{let n=e.prototype||{};t.prototype=e.prototype=n,ge(t,"__sentry_original__",e)}catch{}}function ye(t){return t.__sentry_original__}function Ur(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Cn(t){if(Tn(t))return{message:t.message,name:t.name,stack:t.stack,...Le(t)};if(Bt(t)){let e={type:t.type,target:Pe(t.target),currentTarget:Pe(t.currentTarget),...Le(t)};return typeof CustomEvent<"u"&&O(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Pe(t){try{return _r(t)?Z(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Le(t){if(typeof t=="object"&&t!==null){let e={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Br(t,e=40){let n=Object.keys(Cn(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return J(n[0],e);for(let r=n.length;r>0;r--){let i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:J(i,e)}return""}function L(t){return Qt(t,new Map)}function Qt(t,e){if(X(t)){let n=e.get(t);if(n!==void 0)return n;let r={};e.set(t,r);for(let i of Object.keys(t))typeof t[i]<"u"&&(r[i]=Qt(t[i],e));return r}if(Array.isArray(t)){let n=e.get(t);if(n!==void 0)return n;let r=[];return e.set(t,r),t.forEach(i=>{r.push(Qt(i,e))}),r}return t}var Un=50,je=/\(error: (.*)\)/,Ae=/captureMessage|captureException/;function Ir(...t){let e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let o=s[a];if(o.length>1024)continue;let c=je.test(o)?o.replace(je,"$1"):o;if(!c.match(/\S*Error: /)){for(let l of e){let u=l(c);if(u){i.push(u);break}}if(i.length>=Un)break}}return Yr(i)}}function Yr(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Ae.test(e[e.length-1].function||"")&&(e.pop(),Ae.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,Un).map(n=>({...n,filename:n.filename||e[e.length-1].filename,function:n.function||"?"}))}var qt="<anonymous>";function A(t){try{return!t||typeof t!="function"?qt:t.name||qt}catch{return qt}}var te=lt();function Gr(){if(!("fetch"in te))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function ee(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Or(){if(!Gr())return!1;if(ee(te.fetch))return!0;let t=!1,e=te.document;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=ee(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}var mt=lt();function $r(){let t=mt.chrome,e=t&&t.app&&t.app.runtime,n="history"in mt&&!!mt.history.pushState&&!!mt.history.replaceState;return!e&&n}var T=lt(),V="__sentry_xhr_v2__",at={},Me={};function Pr(t){if(!Me[t])switch(Me[t]=!0,t){case"console":Lr();break;case"dom":Wr();break;case"xhr":Mr();break;case"fetch":jr();break;case"history":Hr();break;case"error":Vr();break;case"unhandledrejection":Jr();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("unknown instrumentation type:",t);return}}function N(t,e){at[t]=at[t]||[],at[t].push(e),Pr(t)}function C(t,e){if(!(!t||!at[t]))for(let n of at[t]||[])try{n(e)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${A(n)}
Error:`,r)}}function Lr(){"console"in E&&Zt.forEach(function(t){t in E.console&&R(E.console,t,function(e){return kt[t]=e,function(...n){C("console",{args:n,level:t});let r=kt[t];r&&r.apply(E.console,n)}})})}function jr(){Or()&&R(E,"fetch",function(t){return function(...e){let{method:n,url:r}=Ar(e),i={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return C("fetch",{...i}),t.apply(E,e).then(s=>(C("fetch",{...i,endTimestamp:Date.now(),response:s}),s),s=>{throw C("fetch",{...i,endTimestamp:Date.now(),error:s}),s})}})}function ne(t,e){return!!t&&typeof t=="object"&&!!t[e]}function He(t){return typeof t=="string"?t:t?ne(t,"url")?t.url:t.toString?t.toString():"":""}function Ar(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[n,r]=t;return{url:He(n),method:ne(r,"method")?String(r.method).toUpperCase():"GET"}}let e=t[0];return{url:He(e),method:ne(e,"method")?String(e.method).toUpperCase():"GET"}}function Mr(){if(!T.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;R(t,"open",function(e){return function(...n){let r=n[1],i=this[V]={method:j(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};j(r)&&i.method==="POST"&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let a=this[V];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}C("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?R(this,"onreadystatechange",function(a){return function(...o){return s(),a.apply(this,o)}}):this.addEventListener("readystatechange",s),R(this,"setRequestHeader",function(a){return function(...o){let[c,l]=o,u=this[V];return u&&(u.request_headers[c.toLowerCase()]=l),a.apply(this,o)}}),e.apply(this,n)}}),R(t,"send",function(e){return function(...n){let r=this[V];return r&&n[0]!==void 0&&(r.body=n[0]),C("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}var gt;function Hr(){if(!$r())return;let t=T.onpopstate;T.onpopstate=function(...n){let r=T.location.href,i=gt;if(gt=r,C("history",{from:i,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){let i=r.length>2?r[2]:void 0;if(i){let s=gt,a=String(i);gt=a,C("history",{from:s,to:a})}return n.apply(this,r)}}R(T.history,"pushState",e),R(T.history,"replaceState",e)}var qr=1e3,yt,vt;function Fr(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function zr(t){if(t.type!=="keypress")return!1;try{let e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function qe(t,e=!1){return n=>{if(!n||vt===n||zr(n))return;let r=n.type==="keypress"?"input":n.type;yt===void 0?(t({event:n,name:r,global:e}),vt=n):Fr(vt,n)&&(t({event:n,name:r,global:e}),vt=n),clearTimeout(yt),yt=T.setTimeout(()=>{yt=void 0},qr)}}function Wr(){if(!T.document)return;let t=C.bind(null,"dom"),e=qe(t,!0);T.document.addEventListener("click",e,!1),T.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{let r=T[n]&&T[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(R(r,"addEventListener",function(i){return function(s,a,o){if(s==="click"||s=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},u=l[s]=l[s]||{refCount:0};if(!u.handler){let p=qe(t);u.handler=p,i.call(this,s,p,o)}u.refCount++}catch{}return i.call(this,s,a,o)}}),R(r,"removeEventListener",function(i){return function(s,a,o){if(s==="click"||s=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__||{},u=l[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,o),u.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,o)}}))})}var Et=null;function Vr(){Et=T.onerror,T.onerror=function(t,e,n,r,i){return C("error",{column:r,error:i,line:n,msg:t,url:e}),Et&&!Et.__SENTRY_LOADER__?Et.apply(this,arguments):!1},T.onerror.__SENTRY_INSTRUMENTED__=!0}var St=null;function Jr(){St=T.onunhandledrejection,T.onunhandledrejection=function(t){return C("unhandledrejection",t),St&&!St.__SENTRY_LOADER__?St.apply(this,arguments):!0},T.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Kr(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}function r(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return[n,r]}function x(){let t=E,e=t.crypto||t.msCrypto,n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>e.getRandomValues(new Uint8Array(1))[0])}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Bn(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function P(t){let{message:e,event_id:n}=t;if(e)return e;let r=Bn(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function re(t,e,n){let r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=n||"Error")}function ct(t,e){let n=Bn(t);if(!n)return;let r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};n.mechanism.data=s}}function Fe(t){if(t&&t.__sentry_captured__)return!0;try{ge(t,"__sentry_captured__",!0)}catch{}return!1}function Xr(t){return Array.isArray(t)?t:[t]}function Zr(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Qr(){return"npm"}function ti(){return!Zr()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ei(t,e){return t.require(e)}function $(t,e=100,n=1/0){try{return ie("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function In(t,e=3,n=100*1024){let r=$(t,e);return si(r)>n?In(t,e-1,n):r}function ie(t,e,n=1/0,r=1/0,i=Kr()){let[s,a]=i;if(e==null||["number","boolean","string"].includes(typeof e)&&!Rn(e))return e;let o=ni(t,e);if(!o.startsWith("[object "))return o;if(e.__sentry_skip_normalization__)return e;let c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return o.replace("object ","");if(s(e))return"[Circular ~]";let l=e;if(l&&typeof l.toJSON=="function")try{let _=l.toJSON();return ie("",_,c-1,r,i)}catch{}let u=Array.isArray(e)?[]:{},p=0,h=Cn(e);for(let _ in h){if(!Object.prototype.hasOwnProperty.call(h,_))continue;if(p>=r){u[_]="[MaxProperties ~]";break}let f=h[_];u[_]=ie(_,f,c-1,r,i),p++}return a(e),u}function ni(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(xn(e))return"[VueViewModel]";if(mr(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${A(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let n=ri(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function ri(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function ii(t){return~-encodeURI(t).split(/%..|./).length}function si(t){return ii(JSON.stringify(t))}var G;(function(t){t[t.PENDING=0]="PENDING";let e=1;t[t.RESOLVED=e]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(G||(G={}));function H(t){return new k(e=>{e(t)})}function ve(t){return new k((e,n)=>{n(t)})}var k=class{constructor(t){k.prototype.__init.call(this),k.prototype.__init2.call(this),k.prototype.__init3.call(this),k.prototype.__init4.call(this),this._state=G.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new k((n,r)=>{this._handlers.push([!1,i=>{if(!t)n(i);else try{n(t(i))}catch(s){r(s)}},i=>{if(!e)r(i);else try{n(e(i))}catch(s){r(s)}}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new k((e,n)=>{let r,i;return this.then(s=>{i=!1,r=s,t&&t()},s=>{i=!0,r=s,t&&t()}).then(()=>{if(i){n(r);return}e(r)})})}__init(){this._resolve=t=>{this._setResult(G.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(G.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{if(this._state===G.PENDING){if(me(e)){e.then(this._resolve,this._reject);return}this._state=t,this._value=e,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===G.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===G.RESOLVED&&e[1](this._value),this._state===G.REJECTED&&e[2](this._value),e[0]=!0)})}}};function ai(t){let e=[];function n(){return t===void 0||e.length<t}function r(a){return e.splice(e.indexOf(a),1)[0]}function i(a){if(!n())return ve(new I("Not adding Promise because buffer limit was reached."));let o=a();return e.indexOf(o)===-1&&e.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function s(a){return new k((o,c)=>{let l=e.length;if(!l)return o(!0);let u=setTimeout(()=>{a&&a>0&&o(!1)},a);e.forEach(p=>{H(p).then(()=>{--l||(clearTimeout(u),o(!0))},c)})})}return{$:e,add:i,drain:s}}function Ft(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}var oi=["fatal","error","warning","log","info","debug"];function ci(t){return t==="warn"?"warning":oi.includes(t)?t:"log"}var Yn=lt(),se={nowSeconds:()=>Date.now()/1e3};function ui(){let{performance:t}=Yn;if(!t||!t.now)return;let e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function li(){try{return ei(module,"perf_hooks").performance}catch{return}}var zt=ti()?li():ui(),ze=zt===void 0?se:{nowSeconds:()=>(zt.timeOrigin+zt.now())/1e3},Yt=se.nowSeconds.bind(se),q=ze.nowSeconds.bind(ze),Y=(()=>{let{performance:t}=Yn;if(!t||!t.now)return;let e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,a=t.timing&&t.timing.navigationStart,o=typeof a=="number"?Math.abs(a+n-r):e,c=o<e;return s||c?i<=o?t.timeOrigin:a:r})(),ae="baggage",Gn="sentry-",pi=/^sentry-/,di=8192;function hi(t){if(!j(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((r,i)=>{let s=We(i);return{...r,...s}},{});else{if(!t)return;e=We(t)}let n=Object.entries(e).reduce((r,[i,s])=>{if(i.match(pi)){let a=i.slice(Gn.length);r[a]=s}return r},{});if(Object.keys(n).length>0)return n}function oe(t){if(!t)return;let e=Object.entries(t).reduce((n,[r,i])=>(i&&(n[`${Gn}${r}`]=i),n),{});return _i(e)}function We(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(e[n]=r,e),{})}function _i(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],i)=>{let s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,a=i===0?s:`${e},${s}`;return a.length>di?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):a},"")}var fi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function mi(t){if(!t)return;let e=t.match(fi);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function gi(t,e){let n=mi(t),r=hi(e),{traceId:i,parentSpanId:s,parentSampled:a}=n||{},o={traceId:i||x(),spanId:x().substring(16),sampled:a};return s&&(o.parentSpanId=s),r&&(o.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:o}}function Ee(t=x(),e=x().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function pt(t,e=[]){return[t,e]}function yi(t,e){let[n,r]=t;return[n,[...r,e]]}function Ve(t,e){let n=t[1];for(let r of n){let i=r[0].type;if(e(r,i))return!0}return!1}function ce(t,e){return(e||new TextEncoder).encode(t)}function vi(t,e){let[n,r]=t,i=JSON.stringify(n);function s(a){typeof i=="string"?i=typeof a=="string"?i+a:[ce(i,e),a]:i.push(typeof a=="string"?ce(a,e):a)}for(let a of r){let[o,c]=a;if(s(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify($(c))}s(l)}}return typeof i=="string"?i:Ei(i)}function Ei(t){let e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return n}function Si(t,e){let n=typeof t.data=="string"?ce(t.data,e):t.data;return[L({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}var Ti={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function Je(t){return Ti[t]}function On(t){if(!t||!t.sdk)return;let{name:e,version:n}=t.sdk;return{name:e,version:n}}function bi(t,e,n,r){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:It(r)},...i&&{trace:L({...i})}}}function Ri(t,e,n){let r=[{type:"client_report"},{timestamp:n||Yt(),discarded_events:t}];return pt(e?{dsn:e}:{},[r])}function xi(t,e=Date.now()){let n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}function Di(t,e){return t[e]||t.all||0}function wi(t,e,n=Date.now()){return Di(t,e)>n}function Ni(t,{statusCode:e,headers:n},r=Date.now()){let i={...t},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(let o of s.trim().split(",")){let[c,l]=o.split(":",2),u=parseInt(c,10),p=(isNaN(u)?60:u)*1e3;if(!l)i.all=r+p;else for(let h of l.split(";"))i[h]=r+p}else a?i.all=r+xi(a,r):e===429&&(i.all=r+60*1e3);return i}var Se="production";function Te(){return Dn("globalEventProcessors",()=>[])}function ki(t){Te().push(t)}function Ct(t,e,n,r=0){return new k((i,s)=>{let a=t[r];if(e===null||typeof a!="function")i(e);else{let o=a({...e},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&o===null&&d.log(`Event processor "${a.id}" dropped event`),me(o)?o.then(c=>Ct(t,c,n,r+1).then(i)).then(null,s):Ct(t,o,n,r+1).then(i).then(null,s)}})}function Ci(t){let e=q(),n={sid:x(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Bi(n)};return t&&Q(n,t),n}function Q(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||q(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:x()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Ui(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),Q(t,n)}function Bi(t){return L({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}var Ii=100,K=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ke()}static clone(t){let e=new K;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata},e._propagationContext={...t._propagationContext}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&Q(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return e===null?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){let e=t(this);return e instanceof K?e:this}return t instanceof K?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):X(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ke(),this}addBreadcrumb(t,e){let n=typeof e=="number"?e:Ii;if(n<=0)return this;let r={timestamp:Yt(),...t},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={},n){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};let s=this._span.transaction;if(s){t.sdkProcessingMetadata={dynamicSamplingContext:s.getDynamicSamplingContext(),...t.sdkProcessingMetadata};let a=s.name;a&&(t.tags={transaction:a,...t.tags})}}this._applyFingerprint(t);let r=this._getBreadcrumbs(),i=[...t.breadcrumbs||[],...r];return t.breadcrumbs=i.length>0?i:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},Ct([...n||[],...Te(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Xr(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}};function Ke(){return{traceId:x(),spanId:x().substring(16)}}var $n=4,Yi=100,be=class{constructor(t,e=new K,n=$n){this._version=n,this._stack=[{scope:e}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){let e=this.getStackTop();e.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=K.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){let n=this._lastEventId=e&&e.event_id?e.event_id:x(),r=new Error("Sentry syntheticException");return this._withClient((i,s)=>{i.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},s)}),n}captureMessage(t,e,n){let r=this._lastEventId=n&&n.event_id?n.event_id:x(),i=new Error(t);return this._withClient((s,a)=>{s.captureMessage(t,e,{originalException:t,syntheticException:i,...n,event_id:r},a)}),r}captureEvent(t,e){let n=e&&e.event_id?e.event_id:x();return t.type||(this._lastEventId=n),this._withClient((r,i)=>{r.captureEvent(t,{...e,event_id:n},i)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){let{scope:n,client:r}=this.getStackTop();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Yi}=r.getOptions&&r.getOptions()||{};if(s<=0)return;let a={timestamp:Yt(),...t},o=i?wn(()=>i(a,e)):a;o!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",o,e),n.addBreadcrumb(o,s))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e)}configureScope(t){let{scope:e,client:n}=this.getStackTop();n&&t(e)}run(t){let e=Xe(this);try{t(this)}finally{Xe(e)}}getIntegration(t){let e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){let n=this._callExtensionMethod("startTransaction",t,e);if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n){let r=this.getClient();console.warn(r?`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`:"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let t=this.getStackTop().scope,e=t.getSession();e&&Ui(e),this._sendSessionUpdate(),t.setSession()}startSession(t){let{scope:e,client:n}=this.getStackTop(),{release:r,environment:i=Se}=n&&n.getOptions()||{},{userAgent:s}=E.navigator||{},a=Ci({release:r,environment:i,user:e.getUser(),...s&&{userAgent:s},...t}),o=e.getSession&&e.getSession();return o&&o.status==="ok"&&Q(o,{status:"exited"}),this.endSession(),e.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),e=t&&t.getOptions();return!!(e&&e.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:e}=this.getStackTop(),n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){let{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){let n=dt().__SENTRY__;if(n&&n.extensions&&typeof n.extensions[t]=="function")return n.extensions[t].apply(this,e);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function dt(){return E.__SENTRY__=E.__SENTRY__||{extensions:{},hub:void 0},E}function Xe(t){let e=dt(),n=ue(e);return Pn(e,t),n}function S(){let t=dt();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Gi(t)}function Gi(t=dt()){return(!Oi(t)||ue(t).isOlderThan($n))&&Pn(t,new be),ue(t)}function Oi(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ue(t){return Dn("hub",()=>new be,t)}function Pn(t,e){if(!t)return!1;let n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function Re(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=S().getClient(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function ht(t){return(t||S()).getScope().getTransaction()}var Ze=!1;function $i(){Ze||(Ze=!0,N("error",le),N("unhandledrejection",le))}function le(){let t=ht();if(t){let e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}le.tag="sentry_tracingErrorCallback";var Ln=class{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}},jn=class{constructor(t={}){this.traceId=t.traceId||x(),this.spanId=t.spanId||x().substring(16),this.startTimestamp=t.startTimestamp||q(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.setName(t)}startChild(t){let e=new jn({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e),e.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e.transaction){let n=t&&t.op||"< unknown op >",r=e.transaction.name||"< unknown name >",i=e.transaction.spanId,s=`[Tracing] Starting '${n}' span on transaction '${r}' (${i}).`;e.transaction.metadata.spanMetadata[e.spanId]={logMessage:s},d.log(s)}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);let e=Pi(t);return e!=="unknown_error"&&this.setStatus(e),this}setName(t){this.description=t}isSuccess(){return this.status==="ok"}finish(t){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&d.log(e.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?t:q()}toTraceparent(){return Ee(this.traceId,this.spanId,this.sampled)}toContext(){return L({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return L({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return L({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}};function Pi(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Gt(t,e,n){let r=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},a=L({environment:r.environment||Se,release:r.release,user_segment:s,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",a),a}var An=class extends jn{constructor(t,e){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=e||S(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;let n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}setName(t,e="custom"){this._name=t,this.metadata.source=e}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Ln(t)),this.spanRecorder.add(this)}setContext(t,e){e===null?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){let e=this._finishTransaction(t);if(e)return this._hub.captureEvent(e)}toContext(){let t=super.toContext();return L({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let t=this._hub||S(),e=t.getClient();if(!e)return{};let n=t.getScope(),r=Gt(this.traceId,e,n),i=this.metadata.sampleRate;i!==void 0&&(r.sample_rate=`${i}`);let s=this.metadata.source;return s&&s!=="url"&&(r.transaction=this.name),this.sampled!==void 0&&(r.sampled=String(this.sampled)),r}setHub(t){this._hub=t}_finishTransaction(t){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);let e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(s=>s!==this&&s.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((s,a)=>s.endTimestamp&&a.endTimestamp?s.endTimestamp>a.endTimestamp?s:a:s).endTimestamp);let r=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:this.getDynamicSamplingContext()},...r.source&&{transaction_info:{source:r.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),i}},wt={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Li="finishReason",F=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],ji=class extends Ln{constructor(t,e,n,r){super(r),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){t.spanId!==this.transactionSpanId&&(t.finish=e=>{t.endTimestamp=typeof e=="number"?e:q(),this._popActivity(t.spanId)},t.endTimestamp===void 0&&this._pushActivity(t.spanId)),super.add(t)}},Ai=class extends An{constructor(t,e,n=wt.idleTimeout,r=wt.finalTimeout,i=wt.heartbeatInterval,s=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=F[4],s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),e.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=F[3],this.finish())},this._finalTimeout)}finish(t=q()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(Li,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] finishing IdleTransaction",new Date(t*1e3).toISOString(),this.op);for(let e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));let n=e.startTimestamp<t,r=(this._finalTimeout+this._idleTimeout)/1e3,i=e.endTimestamp-this.startTimestamp<r;if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let s=JSON.stringify(e,void 0,2);n?i||d.log("[Tracing] discarding Span since it finished after Transaction final timeout",s):d.log("[Tracing] discarding Span since it happened after Transaction was finished",s)}return n&&i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] No active IdleTransaction");if(this._onScope){let e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){let e=r=>{this._finished||this._pushActivity(r)},n=r=>{this._finished||this._popActivity(r)};this.spanRecorder=new ji(e,n,this.spanId,t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=e===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=F[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=F[1],this.finish(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] popActivity ${t}`),delete this.activities[t],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let e=q();this._idleTimeoutCanceledPermanently?(this._finishReason=F[5],this.finish(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=F[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function Mi(){let t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function Mn(t,e,n){if(!Re(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setMetadata({sampleRate:Number(r)})):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setMetadata({sampleRate:Number(r)})):(r=1,t.setMetadata({sampleRate:r})),Hi(r)?r?(t.sampled=Math.random()<r,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Hi(t){return Rn(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function qi(t,e){let n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=t.instrumenter||"sentry";i!==s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let a=new An(t,this);return a=Mn(a,r,{parentSampled:t.parentSampled,transactionContext:t,...e}),a.sampled&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function Qe(t,e,n,r,i,s,a){let o=t.getClient(),c=o&&o.getOptions()||{},l=new Ai(e,t,n,r,a,i);return l=Mn(l,c,{parentSampled:e.parentSampled,transactionContext:e,...s}),l.sampled&&l.initSpanRecorder(c._experiments&&c._experiments.maxSpans),o&&o.emit&&o.emit("startTransaction",l),l}function Fi(){let t=dt();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=qi),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=Mi),$i())}function zi(t,e){return S().captureException(t,{captureContext:e})}function Wi(t){S().withScope(t)}var Vi="7";function Ji(t){let e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Ki(t){return`${Ji(t)}${t.projectId}/envelope/`}function Xi(t,e){return Ur({sentry_key:t.publicKey,sentry_version:Vi,...e&&{sentry_client:`${e.name}/${e.version}`}})}function Zi(t,e={}){let n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${Ki(t)}?${Xi(t,r)}`}function Qi(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function ts(t,e,n,r){let i=On(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&e&&{dsn:It(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return pt(s,[a])}function es(t,e,n,r){let i=On(n),s=t.type&&t.type!=="replay_event"?t.type:"event";Qi(t,n&&n.sdk);let a=bi(t,i,r,e);return delete t.sdkProcessingMetadata,pt(a,[[{type:s},t]])}var tn=[];function ns(t,e){let n={};return e.forEach(r=>{r&&Hn(t,r,n)}),n}function Hn(t,e,n){if(n[e.name]=e,tn.indexOf(e.name)===-1&&(e.setupOnce(ki,S),tn.push(e.name)),t.on&&typeof e.preprocessEvent=="function"){let r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>r(i,s,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){let r=e.processEvent.bind(e),i=Object.assign((s,a)=>r(s,a,t),{id:e.name});t.addEventProcessor(i)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`Integration installed: ${e.name}`)}function rs(t,e,n,r,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=t,o={...e,event_id:e.event_id||n.event_id||x(),timestamp:e.timestamp||Yt()},c=n.integrations||t.integrations.map(h=>h.name);is(o,t),os(o,c),e.type===void 0&&ss(o,t.stackParser);let l=r;n.captureContext&&(l=K.clone(l).update(n.captureContext));let u=H(o),p=i&&i.getEventProcessors?i.getEventProcessors():[];if(l){if(l.getAttachments){let h=[...n.attachments||[],...l.getAttachments()];h.length&&(n.attachments=h)}u=l.applyToEvent(o,n,p)}else u=Ct([...p,...Te()],o,n);return u.then(h=>(h&&as(h),typeof s=="number"&&s>0?cs(h,s,a):h))}function is(t,e){let{environment:n,release:r,dist:i,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?n:Se),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&i!==void 0&&(t.dist=i),t.message&&(t.message=J(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=J(a.value,s));let o=t.request;o&&o.url&&(o.url=J(o.url,s))}var en=new WeakMap;function ss(t,e){let n=E._sentryDebugIds;if(!n)return;let r,i=en.get(e);i?r=i:(r=new Map,en.set(e,r));let s=Object.keys(n).reduce((a,o)=>{let c,l=r.get(o);l?c=l:(c=e(o),r.set(o,c));for(let u=c.length-1;u>=0;u--){let p=c[u];if(p.filename){a[p.filename]=n[o];break}}return a},{});try{t.exception.values.forEach(a=>{a.stacktrace.frames.forEach(o=>{o.filename&&(o.debug_id=s[o.filename])})})}catch{}}function as(t){let e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function os(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function cs(t,e,n){if(!t)return null;let r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:$(i.data,e,n)}}))},...t.user&&{user:$(t.user,e,n)},...t.contexts&&{contexts:$(t.contexts,e,n)},...t.extra&&{extra:$(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=$(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(i=>(i.data&&(i.data=$(i.data,e,n)),i))),r}var nn="Not capturing exception because it's already been captured.",us=class{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Cr(t.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("No DSN provided, client will not send events."),this._dsn){let e=Zi(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){if(Fe(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(nn);return}let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then(i=>this._captureEvent(i,e,n)).then(i=>{r=i})),r}captureMessage(t,e,n,r){let i=n&&n.event_id,s=bn(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(s.then(a=>this._captureEvent(a,n,r)).then(a=>{i=a})),i}captureEvent(t,e,n){if(e&&e.originalException&&Fe(e.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(nn);return}let r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then(i=>{r=i})),r}captureSession(t){typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Q(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let e=this._transport;return e?this._isClientDoneProcessing(t).then(n=>e.flush(t).then(r=>n&&r)):H(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=ns(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){Hn(this,t,this._integrations)}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=es(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of e.attachments||[])n=yi(n,Si(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));let r=this._sendEnvelope(n);r&&r.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let e=ts(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){let r=`${t}:${e}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach(n=>n(...e))}_updateSessionFromEvent(t,e){let n=!1,r=!1,i=e.exception&&e.exception.values;if(i){r=!0;for(let a of i){let o=a.mechanism;if(o&&o.handled===!1){n=!0;break}}}let s=t.status==="ok";(s&&t.errors===0||s&&n)&&(Q(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new k(e=>{let n=0,r=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),e(!0)):(n+=r,t&&n>=t&&(clearInterval(i),e(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,e,n){let r=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",t,e),rs(r,t,e,n,this).then(s=>{if(s===null)return s;let{propagationContext:a}=s.sdkProcessingMetadata||{};if(!(s.contexts&&s.contexts.trace)&&a){let{traceId:o,spanId:c,parentSpanId:l,dsc:u}=a;s.contexts={trace:{trace_id:o,span_id:c,parent_span_id:l},...s.contexts};let p=u||Gt(o,this,n);s.sdkProcessingMetadata={dynamicSamplingContext:p,...s.sdkProcessingMetadata}}return s})}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then(r=>r.event_id,r=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let i=r;i.logLevel==="log"?d.log(i.message):d.warn(i)}})}_processEvent(t,e,n){let r=this.getOptions(),{sampleRate:i}=r,s=Fn(t),a=qn(t),o=t.type||"error",c=`before send for type \`${o}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),ve(new I(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let l=o==="replay_event"?"replay":o;return this._prepareEvent(t,e,n).then(u=>{if(u===null)throw this.recordDroppedEvent("event_processor",l,t),new I("An event processor returned `null`, will not send event.","log");if(e.data&&e.data.__sentry__===!0)return u;let p=ps(r,u,e);return ls(p,c)}).then(u=>{if(u===null)throw this.recordDroppedEvent("before_send",l,t),new I(`${c} returned \`null\`, will not send event.`,"log");let p=n&&n.getSession();!s&&p&&this._updateSessionFromEvent(p,u);let h=u.transaction_info;if(s&&h&&u.transaction!==t.transaction){let _="custom";u.transaction_info={...h,source:_}}return this.sendEvent(u,e),u}).then(null,u=>{throw u instanceof I?u:(this.captureException(u,{data:{__sentry__:!0},originalException:u}),new I(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${u}`))})}_process(t){this._numProcessing++,t.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,e=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.error("Error while sending event:",e)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{let[n,r]=e.split(":");return{reason:n,category:r,quantity:t[e]}})}};function ls(t,e){let n=`${e} must return \`null\` or a valid event.`;if(me(t))return t.then(r=>{if(!X(r)&&r!==null)throw new I(n);return r},r=>{throw new I(`${e} rejected with ${r}`)});if(!X(t)&&t!==null)throw new I(n);return t}function ps(t,e,n){let{beforeSend:r,beforeSendTransaction:i}=t;return qn(e)&&r?r(e,n):Fn(e)&&i?i(e,n):e}function qn(t){return t.type===void 0}function Fn(t){return t.type==="transaction"}var ds=30;function hs(t,e,n=ai(t.bufferSize||ds)){let r={},i=a=>n.drain(a);function s(a){let o=[];if(Ve(a,(p,h)=>{let _=Je(h);if(wi(r,_)){let f=rn(p,h);t.recordDroppedEvent("ratelimit_backoff",_,f)}else o.push(p)}),o.length===0)return H();let c=pt(a[0],o),l=p=>{Ve(c,(h,_)=>{let f=rn(h,_);t.recordDroppedEvent(p,Je(_),f)})},u=()=>e({body:vi(c,t.textEncoder)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=Ni(r,p),p),p=>{throw l("network_error"),p});return n.add(u).then(p=>p,p=>{if(p instanceof I)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.error("Skipped sending event because buffer is full."),l("queue_overflow"),H();throw p})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function rn(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}var sn="7.73.0",zn={};gn(zn,{FunctionToString:()=>xe,InboundFilters:()=>De});var an,xe=class{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=xe.id}setupOnce(){an=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=ye(this)||this;return an.apply(e,t)}}catch{}}};xe.__initStatic();var _s=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],fs=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/],De=class{static __initStatic(){this.id="InboundFilters"}constructor(t={}){this.name=De.id,this._options=t}setupOnce(t,e){}processEvent(t,e,n){let r=n.getOptions(),i=ms(this._options,r);return gs(t,i)?null:t}};De.__initStatic();function ms(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:_s],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:fs],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function gs(t,e){return e.ignoreInternal&&bs(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Event dropped due to being internal Sentry Error.
Event: ${P(t)}`),!0):ys(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${P(t)}`),!0):vs(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${P(t)}`),!0):Es(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${P(t)}.
Url: ${Ut(t)}`),!0):Ss(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${P(t)}.
Url: ${Ut(t)}`),!0)}function ys(t,e){return t.type||!e||!e.length?!1:Ts(t).some(n=>ut(n,e))}function vs(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let n=t.transaction;return n?ut(n,e):!1}function Es(t,e){if(!e||!e.length)return!1;let n=Ut(t);return n?ut(n,e):!1}function Ss(t,e){if(!e||!e.length)return!0;let n=Ut(t);return n?ut(n,e):!0}function Ts(t){let e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e.length===0&&d.error(`Could not extract message for event ${P(t)}`),e}function bs(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Rs(t=[]){for(let e=t.length-1;e>=0;e--){let n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ut(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Rs(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.error(`Cannot extract url for event ${P(t)}`),null}}var g=E,pe=0;function Wn(){return pe>0}function xs(){pe++,setTimeout(()=>{pe--})}function tt(t,e={},n){if(typeof t!="function")return t;try{let i=t.__sentry_wrapped__;if(i)return i;if(ye(t))return t}catch{return t}let r=function(){let i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let s=i.map(a=>tt(a,e));return t.apply(this,s)}catch(s){throw xs(),Wi(a=>{a.addEventProcessor(o=>(e.mechanism&&(re(o,void 0,void 0),ct(o,e.mechanism)),o.extra={...o.extra,arguments:i},o)),zi(s)}),s}};try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch{}kn(r,t),ge(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}function Vn(t,e){let n=we(t,e),r={type:e&&e.name,value:ks(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Ds(t,e,n,r){let i=S().getClient(),s=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:Bt(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Bs(e,{isUnhandledRejection:r})}]},extra:{__serialized__:In(e,s)}};if(n){let o=we(t,n);o.length&&(a.exception.values[0].stacktrace={frames:o})}return a}function Wt(t,e){return{exception:{values:[Vn(t,e)]}}}function we(t,e){let n=e.stacktrace||e.stack||"",r=Ns(e);try{return t(n,r)}catch{}return[]}var ws=/Minified React error #\d+;/i;function Ns(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(ws.test(t.message))return 1}return 0}function ks(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Cs(t,e,n,r){let i=n&&n.syntheticException||void 0,s=Ne(t,e,i,r);return ct(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),H(s)}function Us(t,e,n="info",r,i){let s=r&&r.syntheticException||void 0,a=de(t,e,s,i);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),H(a)}function Ne(t,e,n,r,i){let s;if(fe(e)&&e.error)return Wt(t,e.error);if(Ye(e)||hr(e)){let a=e;if("stack"in e)s=Wt(t,e);else{let o=a.name||(Ye(a)?"DOMError":"DOMException"),c=a.message?`${o}: ${a.message}`:o;s=de(t,c,n,r),re(s,c)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return Tn(e)?Wt(t,e):X(e)||Bt(e)?(s=Ds(t,e,n,i),ct(s,{synthetic:!0}),s):(s=de(t,e,n,r),re(s,`${e}`,void 0),ct(s,{synthetic:!0}),s)}function de(t,e,n,r){let i={message:e};if(r&&n){let s=we(t,n);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]})}return i}function Bs(t,{isUnhandledRejection:e}){let n=Br(t),r=e?"promise rejection":"exception";return fe(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Bt(t)?`Event \`${Is(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Is(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Ys(t,{metadata:e,tunnel:n,dsn:r}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:It(r)}},s=Gs(t);return pt(i,[s])}function Gs(t){return[{type:"user_report"},t]}var Os=class extends us{constructor(t){let e=g.SENTRY_SDK_SOURCE||Qr();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${e}:@sentry/browser`,version:sn}],version:sn},super(t),t.sendClientReports&&g.document&&g.document.addEventListener("visibilitychange",()=>{g.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,e){return Cs(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return Us(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("SDK not enabled, will not capture user feedback.");return}let e=Ys(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("Sending outcomes:",t);let e=Ri(t,this._options.tunnel&&It(this._dsn));this._sendEnvelope(e)}},st;function $s(){if(st)return st;if(ee(g.fetch))return st=g.fetch.bind(g);let t=g.document,e=g.fetch;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);let r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return st=e.bind(g)}function Ps(){st=void 0}function Ls(t,e=$s()){let n=0,r=0;function i(s){let a=s.body.length;n+=a,r++;let o={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,o).then(c=>(n-=a,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Ps(),n-=a,r--,ve(c)}}return hs(t,i)}var Ot="?",js=30,As=40,Ms=50;function ke(t,e,n,r){let i={filename:t,function:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}var Hs=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qs=/\((\S*)(?::(\d+))(?::(\d+))\)/,Fs=t=>{let e=Hs.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){let i=qs.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}let[n,r]=Jn(e[1]||Ot,e[2]);return ke(r,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},zs=[js,Fs],Ws=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Vs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Js=t=>{let e=Ws.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let i=Vs.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let n=e[3],r=e[1]||Ot;return[r,n]=Jn(r,n),ke(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Ks=[Ms,Js],Xs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Zs=t=>{let e=Xs.exec(t);return e?ke(e[2],e[1]||Ot,+e[3],e[4]?+e[4]:void 0):void 0},Qs=[As,Zs],ta=[zs,Ks,Qs],ea=Ir(...ta),Jn=(t,e)=>{let n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Ot,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},rt=class{static __initStatic(){this.id="GlobalHandlers"}constructor(t){this.name=rt.id,this._options={onerror:!0,onunhandledrejection:!0,...t},this._installFunc={onerror:na,onunhandledrejection:ra}}setupOnce(){Error.stackTraceLimit=50;let t=this._options;for(let e in t){let n=this._installFunc[e];n&&t[e]&&(aa(e),n(),this._installFunc[e]=void 0)}}};rt.__initStatic();function na(){N("error",t=>{let[e,n,r]=Zn();if(!e.getIntegration(rt))return;let{msg:i,url:s,line:a,column:o,error:c}=t;if(Wn()||c&&c.__sentry_own_request__)return;let l=c===void 0&&j(i)?sa(i,s,a,o):Kn(Ne(n,c||i,void 0,r,!1),s,a,o);l.level="error",Xn(e,c,l,"onerror")})}function ra(){N("unhandledrejection",t=>{let[e,n,r]=Zn();if(!e.getIntegration(rt))return;let i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(Wn()||i&&i.__sentry_own_request__)return!0;let s=bn(i)?ia(i):Ne(n,i,void 0,r,!0);s.level="error",Xn(e,i,s,"onunhandledrejection")})}function ia(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function sa(t,e,n,r){let i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,s=fe(t)?t.message:t,a="Error",o=s.match(i);return o&&(a=o[1],s=o[2]),Kn({exception:{values:[{type:a,value:s}]}},e,n,r)}function Kn(t,e,n,r){let i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},o=a.stacktrace=a.stacktrace||{},c=o.frames=o.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,p=j(e)&&e.length>0?e:Tr();return c.length===0&&c.push({colno:l,filename:p,function:"?",in_app:!0,lineno:u}),t}function aa(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`Global Handler attached: ${t}`)}function Xn(t,e,n,r){ct(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function Zn(){let t=S(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}var oa=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ce=class{static __initStatic(){this.id="TryCatch"}constructor(t){this.name=Ce.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&R(g,"setTimeout",on),this._options.setInterval&&R(g,"setInterval",on),this._options.requestAnimationFrame&&R(g,"requestAnimationFrame",ca),this._options.XMLHttpRequest&&"XMLHttpRequest"in g&&R(XMLHttpRequest.prototype,"send",ua);let t=this._options.eventTarget;t&&(Array.isArray(t)?t:oa).forEach(la)}};Ce.__initStatic();function on(t){return function(...e){let n=e[0];return e[0]=tt(n,{mechanism:{data:{function:A(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function ca(t){return function(e){return t.apply(this,[tt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:A(t)},handled:!1,type:"instrument"}})])}}function ua(t){return function(...e){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&R(n,r,function(i){let s={mechanism:{data:{function:r,handler:A(i)},handled:!1,type:"instrument"}},a=ye(i);return a&&(s.mechanism.data.handler=A(a)),tt(i,s)})}),t.apply(this,e)}}function la(t){let e=g,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(R(n,"addEventListener",function(r){return function(i,s,a){try{typeof s.handleEvent=="function"&&(s.handleEvent=tt(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:A(s),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,tt(s,{mechanism:{data:{function:"addEventListener",handler:A(s),target:t},handled:!1,type:"instrument"}}),a])}}),R(n,"removeEventListener",function(r){return function(i,s,a){let o=s;try{let c=o&&o.__sentry_wrapped__;c&&r.call(this,i,c,a)}catch{}return r.call(this,i,o,a)}}))}var Tt=1024,$t=class{static __initStatic(){this.id="Breadcrumbs"}constructor(t){this.name=$t.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){if(this.options.console&&N("console",ha),this.options.dom&&N("dom",da(this.options.dom)),this.options.xhr&&N("xhr",_a),this.options.fetch&&N("fetch",fa),this.options.history&&N("history",ma),this.options.sentry){let t=S().getClient();t&&t.on&&t.on("beforeSendEvent",pa)}}};$t.__initStatic();function pa(t){S().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:P(t)},{event:t})}function da(t){function e(n){let r,i=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>Tt&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`\`dom.maxStringLength\` cannot exceed ${Tt}, but a value of ${s} was configured. Sentry will use ${Tt} instead.`),s=Tt),typeof i=="string"&&(i=[i]);try{let a=n.event;r=ga(a)?Z(a.target,{keyAttrs:i,maxStringLength:s}):Z(a,{keyAttrs:i,maxStringLength:s})}catch{r="<unknown>"}r.length!==0&&S().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return e}function ha(t){let e={category:"console",data:{arguments:t.args,logger:"console"},level:ci(t.level),message:Ge(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${Ge(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;S().addBreadcrumb(e,{input:t.args,level:t.level})}function _a(t){let{startTimestamp:e,endTimestamp:n}=t,r=t.xhr[V];if(!e||!n||!r)return;let{method:i,url:s,status_code:a,body:o}=r,c={method:i,url:s,status_code:a},l={xhr:t.xhr,input:o,startTimestamp:e,endTimestamp:n};S().addBreadcrumb({category:"xhr",data:c,type:"http"},l)}function fa(t){let{startTimestamp:e,endTimestamp:n}=t;if(n&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){let r=t.fetchData,i={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};S().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{let r={...t.fetchData,status_code:t.response&&t.response.status},i={input:t.args,response:t.response,startTimestamp:e,endTimestamp:n};S().addBreadcrumb({category:"fetch",data:r,type:"http"},i)}}function ma(t){let e=t.from,n=t.to,r=Ft(g.location.href),i=Ft(e),s=Ft(n);i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===i.protocol&&r.host===i.host&&(e=i.relative),S().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}function ga(t){return!!t&&!!t.target}var ya="cause",va=5,Pt=class{static __initStatic(){this.id="LinkedErrors"}constructor(t={}){this.name=Pt.id,this._key=t.key||ya,this._limit=t.limit||va}setupOnce(){}preprocessEvent(t,e,n){let r=n.getOptions();yr(Vn,r.stackParser,r.maxValueLength,this._key,this._limit,t,e)}};Pt.__initStatic();var Lt=class{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Lt.id}setupOnce(){}preprocessEvent(t){if(!g.navigator&&!g.location&&!g.document)return;let e=t.request&&t.request.url||g.location&&g.location.href,{referrer:n}=g.document||{},{userAgent:r}=g.navigator||{},i={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...t.request,...e&&{url:e},headers:i};t.request=s}};Lt.__initStatic();var jt=class{static __initStatic(){this.id="Dedupe"}constructor(){this.name=jt.id}setupOnce(t,e){}processEvent(t){if(t.type)return t;try{if(Ea(t,this._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return this._previousEvent=t}};jt.__initStatic();function Ea(t,e){return e?!!(Sa(t,e)||Ta(t,e)):!1}function Sa(t,e){let n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!tr(t,e)||!Qn(t,e))}function Ta(t,e){let n=cn(e),r=cn(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!tr(t,e)||!Qn(t,e))}function Qn(t,e){let n=un(t),r=un(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function tr(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function cn(t){return t.exception&&t.exception.values&&t.exception.values[0]}function un(t){let e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var er={};gn(er,{Breadcrumbs:()=>$t,Dedupe:()=>jt,GlobalHandlers:()=>rt,HttpContext:()=>Lt,LinkedErrors:()=>Pt,TryCatch:()=>Ce});var m=E;function ba(){m&&m.document?m.document.addEventListener("visibilitychange",()=>{let t=ht();if(m.document.hidden&&t){let e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Ue=(t,e,n)=>{let r,i;return s=>{e.value>=0&&(s||n)&&(i=e.value-(r||0),(i||r===void 0)&&(r=e.value,e.delta=i,t(e)))}},Ra=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,xa=()=>{let t=m.performance.timing,e=m.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let r in t)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(t[r]-t.navigationStart,0));return n},nr=()=>m.__WEB_VITALS_POLYFILL__?m.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||xa()):m.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],rr=()=>{let t=nr();return t&&t.activationStart||0},Be=(t,e)=>{let n=nr(),r="navigate";return n&&(m.document.prerendering||rr()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:Ra(),navigationType:r}},_t=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let r=new PerformanceObserver(i=>{e(i.getEntries())});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},At=(t,e)=>{let n=r=>{(r.type==="pagehide"||m.document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Da=t=>{let e=Be("CLS",0),n,r=0,i=[],s=o=>{o.forEach(c=>{if(!c.hadRecentInput){let l=i[0],u=i[i.length-1];r&&i.length!==0&&c.startTime-u.startTime<1e3&&c.startTime-l.startTime<5e3?(r+=c.value,i.push(c)):(r=c.value,i=[c]),r>e.value&&(e.value=r,e.entries=i,n&&n())}})},a=_t("layout-shift",s);if(a){n=Ue(t,e);let o=()=>{s(a.takeRecords()),n(!0)};return At(o),o}},Nt=-1,wa=()=>m.document.visibilityState==="hidden"&&!m.document.prerendering?0:1/0,Na=()=>{At(({timeStamp:t})=>{Nt=t},!0)},Ie=()=>(Nt<0&&(Nt=wa(),Na()),{get firstHiddenTime(){return Nt}}),ka=t=>{let e=Ie(),n=Be("FID"),r,i=o=>{o.startTime<e.firstHiddenTime&&(n.value=o.processingStart-o.startTime,n.entries.push(o),r(!0))},s=o=>{o.forEach(i)},a=_t("first-input",s);r=Ue(t,n),a&&At(()=>{s(a.takeRecords()),a.disconnect()},!0)},ln={},Ca=t=>{let e=Ie(),n=Be("LCP"),r,i=a=>{let o=a[a.length-1];if(o){let c=Math.max(o.startTime-rr(),0);c<e.firstHiddenTime&&(n.value=c,n.entries=[o],r())}},s=_t("largest-contentful-paint",i);if(s){r=Ue(t,n);let a=()=>{ln[n.id]||(i(s.takeRecords()),s.disconnect(),ln[n.id]=!0,r(!0))};return["keydown","click"].forEach(o=>{addEventListener(o,a,{once:!0,capture:!0})}),At(a,!0),a}};function Vt(t){return typeof t=="number"&&isFinite(t)}function et(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}function v(t){return t/1e3}function ir(){return m&&m.addEventListener&&m.performance}var pn=0,y={},B,ot;function Ua(){let t=ir();if(t&&Y){t.mark&&m.performance.mark("sentry-tracing-init"),Oa();let e=Ya(),n=Ga();return()=>{e&&e(),n&&n()}}return()=>{}}function Ba(){_t("longtask",t=>{for(let e of t){let n=ht();if(!n)return;let r=v(Y+e.startTime),i=v(e.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}})}function Ia(){_t("event",t=>{for(let e of t){let n=ht();if(!n)return;if(e.name==="click"){let r=v(Y+e.startTime),i=v(e.duration);n.startChild({description:Z(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}}},{durationThreshold:0})}function Ya(){return Da(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding CLS"),y.cls={value:t.value,unit:""},ot=e)})}function Ga(){return Ca(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding LCP"),y.lcp={value:t.value,unit:"millisecond"},B=e)})}function Oa(){ka(t=>{let e=t.entries.pop();if(!e)return;let n=v(Y),r=v(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding FID"),y.fid={value:t.value,unit:"millisecond"},y["mark.fid"]={value:n+r,unit:"second"}})}function $a(t){let e=ir();if(!e||!m.performance.getEntries||!Y)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Tracing] Adding & adjusting spans using Performance API");let n=v(Y),r=e.getEntries(),i,s;if(r.slice(pn).forEach(a=>{let o=v(a.startTime),c=v(a.duration);if(!(t.op==="navigation"&&n+o<t.startTimestamp))switch(a.entryType){case"navigation":{La(t,a,n),i=n+v(a.responseStart),s=n+v(a.requestStart);break}case"mark":case"paint":case"measure":{Pa(t,a,o,c,n);let l=Ie(),u=a.startTime<l.firstHiddenTime;a.name==="first-paint"&&u&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding FP"),y.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&u&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding FCP"),y.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{let l=a.name.replace(m.location.origin,"");Aa(t,a,l,o,c,n);break}}}),pn=Math.max(r.length-1,0),Ma(t),t.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding TTFB"),y.ttfb={value:(i-t.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=i&&(y["ttfb.requestTime"]={value:(i-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(o=>{if(!y[o]||n>=t.startTimestamp)return;let c=y[o].value,l=n+v(c),u=Math.abs((l-t.startTimestamp)*1e3),p=u-c;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Measurements] Normalized ${o} from ${c} to ${u} (${p})`),y[o].value=u});let a=y["mark.fid"];a&&y.fid&&(et(t,{description:"first input delay",endTimestamp:a.value+v(y.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:a.value}),delete y["mark.fid"]),"fcp"in y||delete y.cls,Object.keys(y).forEach(o=>{t.setMeasurement(o,y[o].value,y[o].unit)}),Ha(t)}B=void 0,ot=void 0,y={}}function Pa(t,e,n,r,i){let s=i+n,a=s+r;return et(t,{description:e.name,endTimestamp:a,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function La(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{bt(t,e,r,n)}),bt(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),bt(t,e,"fetch",n,"cache","domainLookupStart"),bt(t,e,"domainLookup",n,"DNS"),ja(t,e,n)}function bt(t,e,n,r,i,s){let a=s?e[s]:e[`${n}End`],o=e[`${n}Start`];!o||!a||et(t,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+v(o),endTimestamp:r+v(a)})}function ja(t,e,n){et(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+v(e.requestStart),endTimestamp:n+v(e.responseEnd)}),et(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+v(e.responseStart),endTimestamp:n+v(e.responseEnd)})}function Aa(t,e,n,r,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let a={};"transferSize"in e&&(a["http.response_transfer_size"]=e.transferSize),"encodedBodySize"in e&&(a["http.response_content_length"]=e.encodedBodySize),"decodedBodySize"in e&&(a["http.decoded_response_content_length"]=e.decodedBodySize),"renderBlockingStatus"in e&&(a["resource.render_blocking_status"]=e.renderBlockingStatus);let o=s+r,c=o+i;et(t,{description:n,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:o,data:a})}function Ma(t){let e=m.navigator;if(!e)return;let n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Vt(n.rtt)&&(y["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Vt(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Vt(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Ha(t){B&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding LCP Data"),B.element&&t.setTag("lcp.element",Z(B.element)),B.id&&t.setTag("lcp.id",B.id),B.url&&t.setTag("lcp.url",B.url.trim().slice(0,200)),t.setTag("lcp.size",B.size)),ot&&ot.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log("[Measurements] Adding CLS Data"),ot.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,Z(e.node))))}var he=["localhost",/^\/(?!\/)/],_e={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:he,tracePropagationTargets:he};function qa(t){let{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a}={traceFetch:_e.traceFetch,traceXHR:_e.traceXHR,...t},o=typeof s=="function"?s:u=>!0,c=u=>Va(u,r||i),l={};e&&N("fetch",u=>{let p=Ja(u,o,c,l);a&&p&&dn(p)}),n&&N("xhr",u=>{let p=Xa(u,o,c,l);a&&p&&dn(p)})}function Fa(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function dn(t){let e=t.data.url,n=new PerformanceObserver(r=>{r.getEntries().forEach(i=>{Fa(i)&&i.name.endsWith(e)&&(Wa(i).forEach(s=>t.setData(...s)),n.disconnect())})});n.observe({entryTypes:["resource"]})}function za(t){let e="unknown",n="unknown",r="";for(let i of t){if(i==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(i))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=i}return r===t&&(e=r),{name:e,version:n}}function U(t=0){return((Y||performance.timeOrigin)+t)/1e3}function Wa(t){let{name:e,version:n}=za(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),Y?[...r,["http.request.redirect_start",U(t.redirectStart)],["http.request.fetch_start",U(t.fetchStart)],["http.request.domain_lookup_start",U(t.domainLookupStart)],["http.request.domain_lookup_end",U(t.domainLookupEnd)],["http.request.connect_start",U(t.connectStart)],["http.request.secure_connection_start",U(t.secureConnectionStart)],["http.request.connection_end",U(t.connectEnd)],["http.request.request_start",U(t.requestStart)],["http.request.response_start",U(t.responseStart)],["http.request.response_end",U(t.responseEnd)]]:r}function Va(t,e){return ut(t,e||he)}function Ja(t,e,n,r){if(!Re()||!t.fetchData)return;let i=e(t.fetchData.url);if(t.endTimestamp&&i){let h=t.fetchData.__span;if(!h)return;let _=r[h];if(_){if(t.response){_.setHttpStatus(t.response.status);let f=t.response&&t.response.headers&&t.response.headers.get("content-length"),b=parseInt(f);b>0&&_.setData("http.response_content_length",b)}else t.error&&_.setStatus("internal_error");_.finish(),delete r[h]}return}let s=S(),a=s.getScope(),o=s.getClient(),c=a.getSpan(),{method:l,url:u}=t.fetchData,p=i&&c?c.startChild({data:{url:u,type:"fetch","http.method":l},description:`${l} ${u}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(p&&(t.fetchData.__span=p.spanId,r[p.spanId]=p),n(t.fetchData.url)&&o){let h=t.args[0];t.args[1]=t.args[1]||{};let _=t.args[1];_.headers=Ka(h,o,a,_,p)}return p}function Ka(t,e,n,r,i){let s=i||n.getSpan(),a=s&&s.transaction,{traceId:o,sampled:c,dsc:l}=n.getPropagationContext(),u=s?s.toTraceparent():Ee(o,void 0,c),p=a?a.getDynamicSamplingContext():l||Gt(o,e,n),h=oe(p),_=typeof Request<"u"&&O(t,Request)?t.headers:r.headers;if(_)if(typeof Headers<"u"&&O(_,Headers)){let f=new Headers(_);return f.append("sentry-trace",u),h&&f.append(ae,h),f}else if(Array.isArray(_)){let f=[..._,["sentry-trace",u]];return h&&f.push([ae,h]),f}else{let f="baggage"in _?_.baggage:void 0,b=[];return Array.isArray(f)?b.push(...f):f&&b.push(f),h&&b.push(h),{..._,"sentry-trace":u,baggage:b.length>0?b.join(","):void 0}}else return{"sentry-trace":u,baggage:h}}function Xa(t,e,n,r){let i=t.xhr,s=i&&i[V];if(!Re()||i&&i.__sentry_own_request__||!i||!s)return;let a=e(s.url);if(t.endTimestamp&&a){let p=i.__sentry_xhr_span_id__;if(!p)return;let h=r[p];h&&(h.setHttpStatus(s.status_code),h.finish(),delete r[p]);return}let o=S(),c=o.getScope(),l=c.getSpan(),u=a&&l?l.startChild({data:{...s.data,type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(u&&(i.__sentry_xhr_span_id__=u.spanId,r[i.__sentry_xhr_span_id__]=u),i.setRequestHeader&&n(s.url))if(u){let p=u&&u.transaction,h=p&&p.getDynamicSamplingContext(),_=oe(h);hn(i,u.toTraceparent(),_)}else{let p=o.getClient(),{traceId:h,sampled:_,dsc:f}=c.getPropagationContext(),b=Ee(h,void 0,_),D=f||(p?Gt(h,p,c):void 0),M=oe(D);hn(i,b,M)}return u}function hn(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(ae,n)}catch{}}function Za(t,e=!0,n=!0){if(!m||!m.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn("Could not initialize routing instrumentation due to invalid location");return}let r=m.location.href,i;e&&(i=t({name:m.location.pathname,startTimestamp:Y?Y/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&N("history",({to:s,from:a})=>{if(a===void 0&&r&&r.indexOf(s)!==-1){r=void 0;return}a!==s&&(r=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=t({name:m.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}var Qa="BrowserTracing",to={...wt,markBackgroundTransactions:!0,routingInstrumentation:Za,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},..._e},eo=class{constructor(t){this.name=Qa,this._hasSetTracePropagationTargets=!1,Fi(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...to,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Ua(),this.options.enableLongTask&&Ba(),this.options._experiments.enableInteractions&&Ia()}setupOnce(t,e){this._getCurrentHub=e;let n=e().getClient(),r=n&&n.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:s,startTransactionOnPageLoad:a,markBackgroundTransactions:o,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:p,_experiments:h}=this.options,_=r&&r.tracePropagationTargets,f=_||this.options.tracePropagationTargets;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&_&&d.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i(b=>{let D=this._createRouteTransaction(b);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(D,b,e),D},a,s),o&&ba(),h.enableInteractions&&this._registerInteractionListener(),qa({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:p})}_createRouteTransaction(t){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}let e=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=this.options,a=t.op==="pageload",o=a?_n("sentry-trace"):"",c=a?_n("baggage"):"",{traceparentData:l,dynamicSamplingContext:u,propagationContext:p}=gi(o,c),h={...t,...l,metadata:{...t.metadata,dynamicSamplingContext:l&&!u?{}:u},trimEnd:!0},_=typeof n=="function"?n(h):h,f=_===void 0?{...h,sampled:!1}:_;f.metadata=f.name!==h.name?{...f.metadata,source:"custom"}:f.metadata,this._latestRouteName=f.name,this._latestRouteSource=f.metadata&&f.metadata.source,f.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Will not send ${f.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.log(`[Tracing] Starting ${f.op} transaction on scope`);let{location:b}=m,D=Qe(e,f,r,i,!0,{location:b},s),M=e.getScope();return a&&l?M.setPropagationContext(p):M.setPropagationContext({traceId:D.traceId,spanId:D.spanId,parentSpanId:D.parentSpanId,sampled:D.sampled}),D.registerBeforeFinishCallback(Mt=>{this._collectWebVitals(),$a(Mt)}),D}_registerInteractionListener(){let t,e=()=>{let{idleTimeout:n,finalTimeout:r,heartbeatInterval:i}=this.options,s="ui.action.click",a=ht();if(a&&a.op&&["navigation","pageload"].includes(a.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}let o=this._getCurrentHub(),{location:c}=m,l={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=Qe(o,l,n,r,!0,{location:c},i)};["click"].forEach(n=>{addEventListener(n,e,{once:!1,capture:!0})})}};function _n(t){let e=br(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}var sr={};g.Sentry&&g.Sentry.Integrations&&(sr=g.Sentry.Integrations);({...sr,...zn,...er});var no="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",Rt=null;function ar(t,e){if(t===!1)return Jt(t);if(Rt)return Jt(Rt,e);let n=new Os({dsn:no,transport:Ls,stackParser:ea,integrations:[new $t,new rt,new Pt,new jt,new Lt,new eo]});return Rt=new be(n),Jt(Rt,e)}function Jt(t,e={key:"source",value:"@hCaptcha/loader"}){return{addBreadcrumb:n=>{t&&t.addBreadcrumb(n)},captureMessage:n=>{t&&t.withScope(function(r){r.setTag(e.key,e.value),t.captureMessage(n)})},captureException:n=>{t&&t.withScope(function(r){r.setTag(e.key,e.value),t.captureEvent({message:Kt,level:"error",extra:n})})}}}function ro({scriptLocation:t,query:e,loadAsync:n=!0,crossOrigin:r,apihost:i="https://js.hcaptcha.com",cleanup:s=!0}={}){let a=vn(t),o=yn(a);return new Promise((c,l)=>{let u=o.document.createElement("script");u.id=dr,u.src=`${i}/1/api.js?onload=${En}`,u.crossOrigin=r,u.async=n;let p=(h,_)=>{try{s&&a.removeChild(u),_(h)}catch(f){l(f)}};u.onload=h=>p(h,c),u.onerror=h=>p(h,l),u.src+=e!==""?`&${e}`:"",a.appendChild(u)})}var xt=[];function io(t={cleanup:!0},e){try{e.addBreadcrumb({category:W,message:"hCaptcha loader params",data:t});let n=vn(t.scriptLocation),r=yn(n),i=xt.find(({scope:a})=>a===r.window);if(i)return e.addBreadcrumb({category:W,message:"hCaptcha already loaded"}),i.promise;let s=new Promise(async(a,o)=>{try{r.window[En]=()=>{e.addBreadcrumb({category:W,message:"hCaptcha script called onload function"}),a(r.window.hcaptcha)};let c=pr({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});await ro({query:c,...t}),e.addBreadcrumb({category:W,message:"hCaptcha loaded",data:i})}catch(c){e.addBreadcrumb({category:W,message:"hCaptcha failed to load",data:c});let l=xt.findIndex(u=>u.scope===r.window);l!==-1&&xt.splice(l,1),e.captureException(c),o(new Error(Kt))}});return xt.push({promise:s,scope:r.window}),s}catch(n){return e.captureException(n),Promise.reject(new Error(Kt))}}async function or(t,e=0){let n=e<2?"Retry loading hCaptcha Api":"Exceeded maximum retries",r=ar(t.sentry);try{return await io(t,r)}catch(i){return r.addBreadcrumb({SENTRY_SOURCE:W,message:n,data:{error:i}}),e>=2?(r.captureException(i),Promise.reject(i)):(e+=1,or(t,e))}}async function so(t){return await or(t)}function fn(t){var e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function mn(t){return t||document.head}var z={key:"source",value:"@hCaptcha/react"},it={mounted:"hCaptcha component mounted",expired:"hCaptcha expired",unmounted:"hCaptcha component unmounted",reset:"hCaptcha reset",removed:"hCaptcha removed"},oo=function(t){ur(e,t);function e(r){var i;return i=t.call(this,r)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind(w(i)),i.resetCaptcha=i.resetCaptcha.bind(w(i)),i.removeCaptcha=i.removeCaptcha.bind(w(i)),i.isReady=i.isReady.bind(w(i)),i.loadCaptcha=i.loadCaptcha.bind(w(i)),i.handleOnLoad=i.handleOnLoad.bind(w(i)),i.handleSubmit=i.handleSubmit.bind(w(i)),i.handleExpire=i.handleExpire.bind(w(i)),i.handleError=i.handleError.bind(w(i)),i.handleOpen=i.handleOpen.bind(w(i)),i.handleClose=i.handleClose.bind(w(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(w(i)),i.ref=Ht.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.state={isApiReady:!1,isRemoved:!1,elementId:r.id,captchaId:""},i}var n=e.prototype;return n.componentDidMount=function(){var i=this,s=mn(this.props.scriptLocation),a=fn(s);this._hcaptcha=a.window.hcaptcha||void 0;var o=typeof this._hcaptcha<"u";if(this.sentryHub=ar(this.props.sentry,z),this.sentryHub.addBreadcrumb({category:z.value,message:it.mounted}),o){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this.state.captchaId,s=this._hcaptcha;this.isReady()&&(s.reset(i),s.remove(i),this.sentryHub.addBreadcrumb({category:z.value,message:it.unmounted}))},n.shouldComponentUpdate=function(i,s){return!(this.state.isApiReady!==s.isApiReady||this.state.isRemoved!==s.isRemoved)},n.componentDidUpdate=function(i){var s=this,a=["sitekey","size","theme","tabindex","languageOverride","endpoint"],o=a.every(function(c){return i[c]===s.props[c]});o||this.removeCaptcha(function(){s.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,s=i.apihost,a=i.assethost,o=i.endpoint,c=i.host,l=i.imghost,u=i.languageOverride,p=i.reCaptchaCompat,h=i.reportapi,_=i.sentry,f=i.custom,b=i.loadAsync,D=i.scriptLocation,M=i.cleanup,Mt=M===void 0?!0:M,cr={render:"explicit",apihost:s,assethost:a,endpoint:o,hl:u,host:c,imghost:l,recaptchacompat:p===!1?"off":null,reportapi:h,sentry:_,custom:f,loadAsync:b,scriptLocation:D,cleanup:Mt};so(cr).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var s=this.state.isApiReady;if(s){var a=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),o=this._hcaptcha,c=o.render(this.ref.current,a);this.setState({isRemoved:!1,captchaId:c},function(){i&&i()})}},n.resetCaptcha=function(){var i=this.state.captchaId,s=this._hcaptcha;this.isReady()&&(s.reset(i),this.sentryHub.addBreadcrumb({category:z.value,message:it.reset}))},n.removeCaptcha=function(i){var s=this.state.captchaId,a=this._hcaptcha;this.isReady()&&(this.setState({isRemoved:!0},function(){a.remove(s),i&&i()}),this.sentryHub.addBreadcrumb({category:z.value,message:it.removed}))},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){try{var s=mn(i.props.scriptLocation),a=fn(s);i._hcaptcha=a.window.hcaptcha,i.renderCaptcha(function(){var o=i.props.onLoad;o&&o()})}catch(o){i.sentryHub.captureException(o)}})},n.handleSubmit=function(i){var s=this.props.onVerify,a=this.state,o=a.isRemoved,c=a.captchaId,l=this._hcaptcha;if(!(typeof l>"u"||o)){var u=l.getResponse(c),p=l.getRespKey(c);s&&s(u,p)}},n.handleExpire=function(){var i=this.props.onExpire,s=this.state.captchaId,a=this._hcaptcha;this.isReady()&&(a.reset(s),i&&i(),this.sentryHub.addBreadcrumb({category:z.value,message:it.expired}))},n.handleError=function(i){var s=this.props.onError,a=this.state.captchaId,o=this._hcaptcha;this.isReady()&&o.reset(a),s&&s(i)},n.isReady=function(){var i=this.state,s=i.isApiReady,a=i.isRemoved;return s&&!a},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){i===void 0&&(i=null);try{var s=this.state.captchaId,a=this._hcaptcha;return this.isReady()?(i&&typeof i!="object"&&(i=null),a.execute(s,i)):void 0}catch(o){this.sentryHub.captureException(o)}},n.setData=function(i){var s=this.state.captchaId,a=this._hcaptcha;this.isReady()&&(i&&typeof i!="object"&&(i=null),a.setData(s,i))},n.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.state.captchaId)},n.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.state.captchaId)},n.render=function(){var i=this.state.elementId;return Ht.createElement("div",{ref:this.ref,id:i})},e}(Ht.Component);export{oo as H};