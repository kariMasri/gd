import{u as se,a as A,a8 as Ee,j as n,e as oe,R as W,A as pe,n as ie,E as de,af as Ye,k as ke,G as $e,o as ae,m as D,U as ee,ag as Ie,ah as ze,ai as Te,aj as K,w as te,a9 as me,f as Ce,X as Qe,F as ne,ak as We,al as Ae,d as ce,P as Ue,L as Oe,ab as He,O as Be,b as Re,am as Fe,an as Xe,ao as Ge,ap as Je,aq as Ke}from"./index-c4efdbaa.js";import{b as De,c as Ve}from"./index.esm-39648bc1.js";import{P as Ze}from"./ProgressBar-2d654ba8.js";const Me=()=>{const e=localStorage.getItem("rules")===null,a=se();return A(Ee,{className:"max-w-[500px] p-3",onHide:()=>{e&&localStorage.setItem("rules","true")},children:[A(Ee.Header,{children:[n(De,{size:18}),"Chat Rules"]}),A(Ee.Body,{className:"gap-2.5",children:[A("ol",{className:"numbered-list",children:[n("li",{className:"numbered-list-item",children:"Don't spam & don't use excessive capital letters."}),n("li",{className:"numbered-list-item",children:"Don't harass or be offensive to other players."}),n("li",{className:"numbered-list-item",children:"Don't share any personal information of you or other players."}),n("li",{className:"numbered-list-item",children:"Don't beg or ask for tips."}),n("li",{className:"numbered-list-item",children:"Don't share links."}),n("li",{className:"numbered-list-item",children:"Don't advertise."}),n("li",{className:"numbered-list-item",children:"Don't share your affiliate code."})]}),n("span",{className:"text-sm font-semibold ",children:"Breaking any of these rules will result in a mute!"}),n(oe,{type:"secondary",onClick:()=>{e&&localStorage.setItem("rules","true"),a(null)},children:"Close"})]})]})},qe="/assets/alien-8427b701.webp",et="/assets/bgl-e2c76d7e.webp",tt="/assets/blush-af425096.webp",rt="/assets/bunny-f3ccfcde.webp",nt="/assets/clap-91b744fa.webp",st="/assets/clover-13e31706.webp",at="/assets/cry-0dd8b82a.webp",ot="/assets/dice-f76558a0.webp",it="/assets/dl-2a39d38a.webp",ct="/assets/evil-a5939f29.webp",lt="/assets/gems-2c8db224.webp",ut="/assets/ghost-6809466a.webp",ft="/assets/gift-d42b380d.webp",dt="/assets/grin-a5bb3047.webp",mt="/assets/halo-a3e7a03c.webp",pt="/assets/heart-5aba430c.webp",vt="/assets/hit-daf4bc1f.webp",ht="/assets/howl-20a4f191.webp",gt="/assets/ill-9e67b154.webp",_t="/assets/kiss-93bf3a92.webp",bt="/assets/lol-7deaa061.webp",yt="/assets/love-fafefd7c.webp",xt="/assets/mad-6a73db31.webp",wt="/assets/mega-9c3c9866.webp",jt="/assets/moai-baaa0a1c.webp",Et="/assets/monkey-1ac4e439.webp",Tt="/assets/moon-2482fe8d.webp",Ct="/assets/music-8c7ab1ed.webp",Ot="/assets/no-9f2ce639.webp",St="/assets/nuke-eeecd657.webp",Rt="/assets/ok-d39fda41.webp",Mt="/assets/omg-16cccaa6.webp",Pt="/assets/oops-180daa51.webp",kt="/assets/party-b8ab7e9f.webp",It="/assets/peace-861540fd.webp",At="/assets/pine-1648fe19.webp",Dt="/assets/pizza-f1798a80.webp",Nt="/assets/plead-0eb2d35d.webp",Lt="/assets/sigh-7a70fd34.webp",Yt="/assets/sigma-009ad46e.webp",$t="/assets/sleep-0022044d.webp",zt="/assets/token-0890da7a.webp",Qt="/assets/tongue-28e2740f.webp",Wt="/assets/tree-de7ace6a.webp",Ut="/assets/troll-ddbd57a5.webp",Ht="/assets/vend-67bcc7e0.webp",Bt="/assets/warn-bdc8dce9.webp",Ft="/assets/weary-21d5afe8.webp",Xt="/assets/wink-a11ee1cb.webp",Gt="/assets/wl-b3d08b52.webp",Jt="/assets/wow-58db152c.webp",Kt="/assets/yes-41b5380a.webp",Vt=Object.assign({"/src/assets/emoji/alien.png":qe,"/src/assets/emoji/bgl.png":et,"/src/assets/emoji/blush.png":tt,"/src/assets/emoji/bunny.png":rt,"/src/assets/emoji/clap.png":nt,"/src/assets/emoji/clover.png":st,"/src/assets/emoji/cry.png":at,"/src/assets/emoji/dice.png":ot,"/src/assets/emoji/dl.png":it,"/src/assets/emoji/evil.png":ct,"/src/assets/emoji/gems.png":lt,"/src/assets/emoji/ghost.png":ut,"/src/assets/emoji/gift.png":ft,"/src/assets/emoji/grin.png":dt,"/src/assets/emoji/halo.png":mt,"/src/assets/emoji/heart.png":pt,"/src/assets/emoji/hit.png":vt,"/src/assets/emoji/howl.png":ht,"/src/assets/emoji/ill.png":gt,"/src/assets/emoji/kiss.png":_t,"/src/assets/emoji/lol.png":bt,"/src/assets/emoji/love.png":yt,"/src/assets/emoji/mad.png":xt,"/src/assets/emoji/mega.png":wt,"/src/assets/emoji/moai.png":jt,"/src/assets/emoji/monkey.png":Et,"/src/assets/emoji/moon.png":Tt,"/src/assets/emoji/music.png":Ct,"/src/assets/emoji/no.png":Ot,"/src/assets/emoji/nuke.png":St,"/src/assets/emoji/ok.png":Rt,"/src/assets/emoji/omg.png":Mt,"/src/assets/emoji/oops.png":Pt,"/src/assets/emoji/party.png":kt,"/src/assets/emoji/peace.png":It,"/src/assets/emoji/pine.png":At,"/src/assets/emoji/pizza.png":Dt,"/src/assets/emoji/plead.png":Nt,"/src/assets/emoji/sigh.png":Lt,"/src/assets/emoji/sigma.png":Yt,"/src/assets/emoji/sleep.png":$t,"/src/assets/emoji/token.png":zt,"/src/assets/emoji/tongue.png":Qt,"/src/assets/emoji/tree.png":Wt,"/src/assets/emoji/troll.png":Ut,"/src/assets/emoji/vend.png":Ht,"/src/assets/emoji/warn.png":Bt,"/src/assets/emoji/weary.png":Ft,"/src/assets/emoji/wink.png":Xt,"/src/assets/emoji/wl.png":Gt,"/src/assets/emoji/wow.png":Jt,"/src/assets/emoji/yes.png":Kt}),ve=new Map,Zt=e=>{const a=/\/([^\/]+)\.png$/,y=e.match(a);return y?y[1]:""};Object.entries(Vt).map(([e,a])=>{const y=Zt(e);y.length<1&&console.error(`Invalid emoji path: ${e}`),ve.set(y,a)});const qt=({emoji:e,onClick:a})=>n("button",{onClick:a,className:"flex justify-center items-center hover:bg-dark-500 min-h-[40px] rounded-sm",children:n(ke,{width:28,height:28,alt:e,className:"w-full h-auto max-w-[28px] rendering-pixelated",src:e})}),er=W.forwardRef(({isOpen:e,...a},y)=>n(pe,{children:e&&A(ie.div,{ref:y,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.4,ease:de},className:"w-full absolute flex flex-col gap-1 z-10 h-[220px] p-2 pr-1 left-0 top-[-215px] bg-dark-700 overflow-hidden",children:[A("div",{className:"font-semibold text-gray-300 text-[0.9rem] flex w-full justify-between",children:[n("span",{children:"Emojis"}),n("button",{onClick:a.onClose,children:n(Ye,{size:20})})]}),n("div",{className:"w-full max-h-[220px] overflow-y-auto pr-1 scroll-smooth",children:n("div",{className:"grid grid-cols-emojiGrid gap-1.5 grid-rows-emojiGrid",children:Array.from(ve,([g,O])=>[g,O]).map(([g,O])=>n(qt,{onClick:()=>{a.onPick&&a.onPick(g)},emoji:O},g))})})]})}));function tr(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-88.5 364.8l49.2-85.8c1.1-1.9.5-4.2-1.3-5.4-20.2-12.9-34-35-35.2-60.3-.1-2.1-1.8-3.8-4-3.8H76V256c0-48.1 18.7-93.3 52.7-127.3 10.8-10.8 22.7-20 35.4-27.6l50.5 87.9c1.1 1.9 3.5 2.5 5.4 1.5 10.7-5.8 22.9-9 35.9-9 12.5 0 24.4 3.1 34.8 8.5 1.9 1 4.2.3 5.3-1.5l51.1-87.7c13 7.7 25.1 17 36.1 28 34 34 52.7 79.2 52.7 127.3v1.5h-100c-2.1 0-3.9 1.7-4 3.8-1.3 25.4-15 47.5-35.2 60.3-1.8 1.2-2.4 3.5-1.3 5.4l49.2 85.8c-26.7 15.1-57 23.2-88.5 23.2-31.6-.1-61.9-8.2-88.6-23.3z"}},{tag:"circle",attr:{cx:"256",cy:"256",r:"56"}}]})(e)}const rr=ae(()=>{const e=se();let y=(()=>D.user?D.user.emailVerified?ee.xpToLevel(D.user.XP)<5?A("span",{className:"flex items-center",children:["You must be at least"," ",n(Ie,{style:{marginLeft:"5px",marginRight:"5px"},level:5}),"to chat"," "]}):null:A("span",{children:["You must"," ",n("a",{onClick:g=>(e("user",{name:D.user.username}),g.preventDefault(),!1),children:"verify your email"})," ","to chat"]}):n("span",{children:"You must be logged in to chat"}))();return y?n("div",{className:"absolute w-full h-full text-gray-400 bg-dark-850 left-0 top-0 font-semibold flex justify-center items-center text-sm cursor-not-allowed",children:y}):null}),nr=()=>{var x;const e=se(),a=W.useRef(null),y=W.useRef(null),[g,O]=W.useState(!1),H=W.useRef(null),X=W.useRef(null),_=()=>{if(!a.current)return;const d=a.current.value;if(d.length<1)return;if(localStorage.getItem("rules")===null){e(n(Me,{}));return}if(d.length>Te){me.error("Message must be shorter than 150 characters");return}const h=ee.filterChatMessage(d);h.length<1||(te.sendWithCallback({ID:"sendChatMessage",message:h},s=>{s.status==="MUTED"&&me(A("span",{style:{display:"flex",alignItems:" center"},children:["You are muted, wager"," ",ee.formatNumber(ee.convertCurrency(s.leftToWager))," ",D.activeCurrency===Ce.DL?"DLS ":"WLS ","more to get un-muted!"]}))}),a.current.value="",t(a.current))},t=d=>{if(!d||!y.current)return;const h=d.value.length;y.current.innerText=`${Te-h}`},o=d=>{let h=d.currentTarget.value;d.currentTarget.value=ee.filterChatMessage(h,!1)};return W.useEffect(()=>{const d=h=>{const s=h.target,i=H.current,c=X.current;s&&(i!=null&&i.contains(s)||c!=null&&c.contains(s))||O(!1)};return window.addEventListener("click",d),()=>{window.removeEventListener("click",d)}},[]),A("div",{className:"bg-dark-800 p-2 flex flex-col gap-1.5 relative",children:[n(er,{ref:X,onClose:()=>O(!1),isOpen:g,onPick:d=>{a.current&&(a.current.value+=`:${d}: `,t(a.current))}}),A("div",{className:"relative flex rounded-sm  items-center pr-1.5 w-full bg-dark-700 border-solid border-2 border-dark-650 ",children:[n(rr,{}),n("input",{className:" bg-transparent font-medium text-sm px-2 py-1.5 outline-none border-none w-full",placeholder:"Say something",spellCheck:"false",onKeyDown:d=>{d.key==="Enter"&&_()},onInput:o,onChange:d=>t(d.currentTarget),ref:a}),n("button",{ref:H,className:"cursor-pointer",onClick:()=>{O(d=>!d)},children:n(ze,{size:22})})]}),A("div",{className:"flex justify-between items-center ",children:[A("span",{className:"font-semibold text-sm text-gray-400 flex gap-1 items-center",children:[n("span",{className:"online-circle"}),ee.formatNumber(D.usersOnline,!0,!0)," online"]}),A("div",{className:"flex gap-1.5 items-center",children:[n("span",{className:"font-semibold text-sm text-gray-400",ref:y,children:Te}),((x=D.user)==null?void 0:x.permissions)>=K.MODERATOR&&n(oe,{type:"secondary",onClick:()=>{te.send({ID:"clearChat"})},className:"h-[30px]",children:n(tr,{})}),n(oe,{onClick:()=>e(n(Me,{})),type:"secondary",className:"h-[30px]",children:n(De,{})}),n(oe,{disabled:D.user===null||D.user.getLevel()<5||!D.user.emailVerified,className:"h-[30px]",onClick:_,children:"Send"})]})]})]})},sr=ae(nr);var ar=function(e){return e instanceof RegExp},or=function(a){var y=/[\\^$.*+?()[\]{}|]/g,g=RegExp(y.source);return a&&g.test(a)?a.replace(y,"\\$&"):a},Ne=function(e){return typeof e=="string"},ir=function(e){var a=[];return e.forEach(function(y){Array.isArray(y)?a=a.concat(y):a.push(y)}),a};function cr(e,a,y){var g=0,O=0;if(e==="")return e;if(!e||!Ne(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var H=a;ar(H)||(H=new RegExp("("+or(H)+")","gi"));for(var X=e.split(H),_=1,t=X.length;_<t;_+=2){if(X[_]===void 0||X[_-1]===void 0){console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");continue}O=X[_].length,g+=X[_-1].length,X[_]=y(X[_],_,g),g+=O}return X}var lr=function(a,y,g){return Array.isArray(a)||(a=[a]),ir(a.map(function(O){return Ne(O)?cr(O,y,g):O}))};const Pe=Qe(lr),ur=new RegExp(`:(${Array.from(ve,([e,a])=>[e]).join("|")}):`,"i"),fr=({message:e})=>{const a=se(),y=Pe(e.text,ur,(g,O)=>{const H=g.toLowerCase();return n(ke,{width:18,alt:H,className:"w-[18px] h-auto rendering-pixelated align-middle inline-block",src:`${ve.get(H)}`},e.ID+"_emoji"+O.toString())});return n(ne,{children:Pe(y,/@(\w+)/g,(g,O)=>A("a",{onClick:()=>{a("user",{name:g.replaceAll("@","")})},className:"font-bold text-accent cursor-pointer",children:["@",g]},e.ID+"_mention"+O.toString()))})},le=W.createContext({}),dr=({permission:e})=>e===K.NONE?n(ne,{}):n("span",{className:ce("text-transparent rounded-sm font-bold uppercase animate-background bg-gradient-to-r bg-clip-text",e===K.SYSTEM&&"from-red-600 to-red-700",e===K.MODERATOR&&"from-cyan-600 to-blue-600",e===K.ADMIN&&"from-yellow-400 to-red-500"),children:ee.roleToString(e)}),mr=({message:e})=>{const a=e.permissions===K.SYSTEM,y=W.useContext(le),g=se();return n("div",{className:"pl-[40px]",children:A("div",{className:"font-semibold text-sm flex items-center gap-1",children:[n(dr,{permission:e.permissions}),!a&&n("span",{onClick:()=>{g("user",{name:e.username})},className:"cursor-pointer",children:e.username}),!a&&n(Ie,{className:"text-[0.75rem] !px-1 !py-0 !m-0",level:ee.xpToLevel(e.XP)})," ",n("span",{className:"text-gray-500 text-[0.7rem] font-bold",children:We(e.time).local().format("HH:mm")}),e.permissions!==K.SYSTEM&&n("button",{onClick:O=>{y.setMessageOptionsTarget({message:e,position:{x:O.clientX,y:O.clientY}})},className:"flex items-center text-gray-400 hover:text-white transition-colorsq",children:n(Ae,{size:18})})]})})},pr=e=>{var O;const a=e.message.permissions===K.SYSTEM,y=W.useContext(le);let g=((O=e.previousMessage)==null?void 0:O.username)===e.message.username;return A(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeInOut"},className:ce("pl-3 flex flex-col items-start gap-1 group",!g&&"pt-1.5"),children:[!g&&n(mr,{message:e.message}),A("div",{className:ce("flex gap-1.5",g&&"pl-[38px]"),children:[!g&&n("div",{className:"flex",children:n(Ue,{avatar:a?{background:"sunny"}:e.message.avatar,size:32})}),n("div",{className:"bg-dark-800 rounded-md flex items-center p-1.5 px-2",children:n("div",{className:"text-[0.8rem] leading-5 font-medium break-words",children:n(fr,{message:e.message})})}),e.message.permissions!==K.SYSTEM&&g&&n("button",{onClick:H=>{y.setMessageOptionsTarget({message:e.message,position:{x:H.clientX,y:H.clientY}})},className:"flex items-center text-gray-400 hover:text-white transition-colors group-hover:visible invisible",children:n(Ae,{size:18})})]})]})},vr=W.memo(pr),hr=()=>{const e=W.useRef(null);return W.useEffect(()=>{const a=e.current;if(!a)return;const y=te.addListener("scrollBottom","chatState",()=>{setTimeout(()=>{a.style.scrollBehavior="auto",a.scrollTop=a.scrollHeight,a.style.scrollBehavior="smooth"},100)});a.style.scrollBehavior="auto",a.scrollTop=a.scrollHeight,a.style.scrollBehavior="smooth";const g=te.addListener("msgScroll","chatMessage",()=>{a.scrollHeight-a.scrollTop>=1400||setTimeout(()=>{a.scrollTop=a.scrollHeight},50)});return()=>{te.removeListener(g),te.removeListener(y)}},[e]),W.useContext(Oe),n("div",{ref:e,className:"flex-auto overflow-y-scroll overflow-x-hidden min-h-0 gap-1.5 flex flex-col py-2 pr-1",style:{mask:`linear-gradient(to top,
      rgba(0,0,0, 1) 0,   rgba(0,0,0, 1) 90%,
      rgba(0,0,0, 0) 100%, rgba(0,0,0, 0) 0
      ) 100% 50% / 100% 100% repeat-x`},children:n(pe,{children:D.chatMessages.map((a,y)=>n(vr,{previousMessage:D.chatMessages[y-1]||null,message:a},a.ID))})})},gr=ae(hr);var Le={exports:{}};(function(e,a){(function(g,O){e.exports=O(He)})(Be,y=>(()=>{var g={"./node_modules/css-mediaquery/index.js":(_,t)=>{t.match=i,t.parse=c;var o=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,x=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,d=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function i(w,u){return c(w).some(function(j){var z=j.inverse,T=j.type==="all"||u.type===j.type;if(T&&z||!(T||z))return!1;var U=j.expressions.every(function(v){var R=v.feature,N=v.modifier,M=v.value,E=u[R];if(!E)return!1;switch(R){case"orientation":case"scan":return E.toLowerCase()===M.toLowerCase();case"width":case"height":case"device-width":case"device-height":M=m(M),E=m(E);break;case"resolution":M=l(M),E=l(E);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":M=b(M),E=b(E);break;case"grid":case"color":case"color-index":case"monochrome":M=parseInt(M,10)||1,E=parseInt(E,10)||0;break}switch(N){case"min":return E>=M;case"max":return E<=M;default:return E===M}});return U&&!z||!U&&z})}function c(w){return w.split(",").map(function(u){u=u.trim();var j=u.match(o),z=j[1],T=j[2],U=j[3]||"",v={};return v.inverse=!!z&&z.toLowerCase()==="not",v.type=T?T.toLowerCase():"all",U=U.match(/\([^\)]+\)/g)||[],v.expressions=U.map(function(R){var N=R.match(x),M=N[1].toLowerCase().match(d);return{modifier:M[1],feature:M[2],value:N[2]}}),v})}function b(w){var u=Number(w),j;return u||(j=w.match(/^(\d+)\s*\/\s*(\d+)$/),u=j[1]/j[2]),u}function l(w){var u=parseFloat(w),j=String(w).match(s)[1];switch(j){case"dpcm":return u/2.54;case"dppx":return u*96;default:return u}}function m(w){var u=parseFloat(w),j=String(w).match(h)[1];switch(j){case"em":return u*16;case"rem":return u*16;case"cm":return u*96/2.54;case"mm":return u*96/2.54/10;case"in":return u*96;case"pt":return u*72;case"pc":return u*72/12;default:return u}}},"./node_modules/hyphenate-style-name/index.js":(_,t,o)=>{o.r(t),o.d(t,{default:()=>c});var x=/[A-Z]/g,d=/^ms-/,h={};function s(b){return"-"+b.toLowerCase()}function i(b){if(h.hasOwnProperty(b))return h[b];var l=b.replace(x,s);return h[b]=d.test(l)?"-"+l:l}const c=i},"./node_modules/matchmediaquery/index.js":(_,t,o)=>{var x=o("./node_modules/css-mediaquery/index.js").match,d=typeof window<"u"?window.matchMedia:null;function h(i,c,b){var l=this;if(d&&!b){var m=d.call(window,i);this.matches=m.matches,this.media=m.media,m.addListener(j)}else this.matches=x(i,c),this.media=i;this.addListener=w,this.removeListener=u,this.dispose=z;function w(T){m&&m.addListener(T)}function u(T){m&&m.removeListener(T)}function j(T){l.matches=T.matches,l.media=T.media}function z(){m&&m.removeListener(j)}}function s(i,c,b){return new h(i,c,b)}_.exports=s},"./node_modules/object-assign/index.js":_=>{var t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function d(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function h(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var i={},c=0;c<10;c++)i["_"+String.fromCharCode(c)]=c;var b=Object.getOwnPropertyNames(i).map(function(m){return i[m]});if(b.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(m){l[m]=m}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}_.exports=h()?Object.assign:function(s,i){for(var c,b=d(s),l,m=1;m<arguments.length;m++){c=Object(arguments[m]);for(var w in c)o.call(c,w)&&(b[w]=c[w]);if(t){l=t(c);for(var u=0;u<l.length;u++)x.call(c,l[u])&&(b[l[u]]=c[l[u]])}}return b}},"./node_modules/prop-types/checkPropTypes.js":(_,t,o)=>{var x=function(){};{var d=o("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h={},s=o("./node_modules/prop-types/lib/has.js");x=function(c){var b="Warning: "+c;typeof console<"u"&&console.error(b);try{throw new Error(b)}catch{}}}function i(c,b,l,m,w){for(var u in c)if(s(c,u)){var j;try{if(typeof c[u]!="function"){var z=Error((m||"React class")+": "+l+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[u]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw z.name="Invariant Violation",z}j=c[u](b,u,m,l,null,d)}catch(U){j=U}if(j&&!(j instanceof Error)&&x((m||"React class")+": type specification of "+l+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof j+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),j instanceof Error&&!(j.message in h)){h[j.message]=!0;var T=w?w():"";x("Failed "+l+" type: "+j.message+(T??""))}}}i.resetWarningCache=function(){h={}},_.exports=i},"./node_modules/prop-types/factoryWithTypeCheckers.js":(_,t,o)=>{var x=o("./node_modules/react-is/index.js"),d=o("./node_modules/object-assign/index.js"),h=o("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),s=o("./node_modules/prop-types/lib/has.js"),i=o("./node_modules/prop-types/checkPropTypes.js"),c=function(){};c=function(l){var m="Warning: "+l;typeof console<"u"&&console.error(m);try{throw new Error(m)}catch{}};function b(){return null}_.exports=function(l,m){var w=typeof Symbol=="function"&&Symbol.iterator,u="@@iterator";function j(r){var p=r&&(w&&r[w]||r[u]);if(typeof p=="function")return p}var z="<<anonymous>>",T={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:M(),arrayOf:E,element:F(),elementType:G(),instanceOf:Z,node:be(),objectOf:ge,oneOf:he,oneOfType:_e,shape:ye,exact:xe};function U(r,p){return r===p?r!==0||1/r===1/p:r!==r&&p!==p}function v(r,p){this.message=r,this.data=p&&typeof p=="object"?p:{},this.stack=""}v.prototype=Error.prototype;function R(r){var p={},I=0;function P(L,S,k,Y,Q,$,f){if(Y=Y||z,$=$||k,f!==h){if(m){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}else if(typeof console<"u"){var J=Y+":"+k;!p[J]&&I<3&&(c("You are manually calling a React.PropTypes validation function for the `"+$+"` prop on `"+Y+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),p[J]=!0,I++)}}return S[k]==null?L?S[k]===null?new v("The "+Q+" `"+$+"` is marked as required "+("in `"+Y+"`, but its value is `null`.")):new v("The "+Q+" `"+$+"` is marked as required in "+("`"+Y+"`, but its value is `undefined`.")):null:r(S,k,Y,Q,$)}var C=P.bind(null,!1);return C.isRequired=P.bind(null,!0),C}function N(r){function p(I,P,C,L,S,k){var Y=I[P],Q=V(Y);if(Q!==r){var $=q(Y);return new v("Invalid "+L+" `"+S+"` of type "+("`"+$+"` supplied to `"+C+"`, expected ")+("`"+r+"`."),{expectedType:r})}return null}return R(p)}function M(){return R(b)}function E(r){function p(I,P,C,L,S){if(typeof r!="function")return new v("Property `"+S+"` of component `"+C+"` has invalid PropType notation inside arrayOf.");var k=I[P];if(!Array.isArray(k)){var Y=V(k);return new v("Invalid "+L+" `"+S+"` of type "+("`"+Y+"` supplied to `"+C+"`, expected an array."))}for(var Q=0;Q<k.length;Q++){var $=r(k,Q,C,L,S+"["+Q+"]",h);if($ instanceof Error)return $}return null}return R(p)}function F(){function r(p,I,P,C,L){var S=p[I];if(!l(S)){var k=V(S);return new v("Invalid "+C+" `"+L+"` of type "+("`"+k+"` supplied to `"+P+"`, expected a single ReactElement."))}return null}return R(r)}function G(){function r(p,I,P,C,L){var S=p[I];if(!x.isValidElementType(S)){var k=V(S);return new v("Invalid "+C+" `"+L+"` of type "+("`"+k+"` supplied to `"+P+"`, expected a single ReactElement type."))}return null}return R(r)}function Z(r){function p(I,P,C,L,S){if(!(I[P]instanceof r)){var k=r.name||z,Y=fe(I[P]);return new v("Invalid "+L+" `"+S+"` of type "+("`"+Y+"` supplied to `"+C+"`, expected ")+("instance of `"+k+"`."))}return null}return R(p)}function he(r){if(!Array.isArray(r))return arguments.length>1?c("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):c("Invalid argument supplied to oneOf, expected an array."),b;function p(I,P,C,L,S){for(var k=I[P],Y=0;Y<r.length;Y++)if(U(k,r[Y]))return null;var Q=JSON.stringify(r,function(f,B){var J=q(B);return J==="symbol"?String(B):B});return new v("Invalid "+L+" `"+S+"` of value `"+String(k)+"` "+("supplied to `"+C+"`, expected one of "+Q+"."))}return R(p)}function ge(r){function p(I,P,C,L,S){if(typeof r!="function")return new v("Property `"+S+"` of component `"+C+"` has invalid PropType notation inside objectOf.");var k=I[P],Y=V(k);if(Y!=="object")return new v("Invalid "+L+" `"+S+"` of type "+("`"+Y+"` supplied to `"+C+"`, expected an object."));for(var Q in k)if(s(k,Q)){var $=r(k,Q,C,L,S+"."+Q,h);if($ instanceof Error)return $}return null}return R(p)}function _e(r){if(!Array.isArray(r))return c("Invalid argument supplied to oneOfType, expected an instance of array."),b;for(var p=0;p<r.length;p++){var I=r[p];if(typeof I!="function")return c("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+je(I)+" at index "+p+"."),b}function P(C,L,S,k,Y){for(var Q=[],$=0;$<r.length;$++){var f=r[$],B=f(C,L,S,k,Y,h);if(B==null)return null;B.data&&s(B.data,"expectedType")&&Q.push(B.data.expectedType)}var J=Q.length>0?", expected one of type ["+Q.join(", ")+"]":"";return new v("Invalid "+k+" `"+Y+"` supplied to "+("`"+S+"`"+J+"."))}return R(P)}function be(){function r(p,I,P,C,L){return re(p[I])?null:new v("Invalid "+C+" `"+L+"` supplied to "+("`"+P+"`, expected a ReactNode."))}return R(r)}function ue(r,p,I,P,C){return new v((r||"React class")+": "+p+" type `"+I+"."+P+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+C+"`.")}function ye(r){function p(I,P,C,L,S){var k=I[P],Y=V(k);if(Y!=="object")return new v("Invalid "+L+" `"+S+"` of type `"+Y+"` "+("supplied to `"+C+"`, expected `object`."));for(var Q in r){var $=r[Q];if(typeof $!="function")return ue(C,L,S,Q,q($));var f=$(k,Q,C,L,S+"."+Q,h);if(f)return f}return null}return R(p)}function xe(r){function p(I,P,C,L,S){var k=I[P],Y=V(k);if(Y!=="object")return new v("Invalid "+L+" `"+S+"` of type `"+Y+"` "+("supplied to `"+C+"`, expected `object`."));var Q=d({},I[P],r);for(var $ in Q){var f=r[$];if(s(r,$)&&typeof f!="function")return ue(C,L,S,$,q(f));if(!f)return new v("Invalid "+L+" `"+S+"` key `"+$+"` supplied to `"+C+"`.\nBad object: "+JSON.stringify(I[P],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(r),null,"  "));var B=f(k,$,C,L,S+"."+$,h);if(B)return B}return null}return R(p)}function re(r){switch(typeof r){case"number":case"string":case"undefined":return!0;case"boolean":return!r;case"object":if(Array.isArray(r))return r.every(re);if(r===null||l(r))return!0;var p=j(r);if(p){var I=p.call(r),P;if(p!==r.entries){for(;!(P=I.next()).done;)if(!re(P.value))return!1}else for(;!(P=I.next()).done;){var C=P.value;if(C&&!re(C[1]))return!1}}else return!1;return!0;default:return!1}}function we(r,p){return r==="symbol"?!0:p?p["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&p instanceof Symbol:!1}function V(r){var p=typeof r;return Array.isArray(r)?"array":r instanceof RegExp?"object":we(p,r)?"symbol":p}function q(r){if(typeof r>"u"||r===null)return""+r;var p=V(r);if(p==="object"){if(r instanceof Date)return"date";if(r instanceof RegExp)return"regexp"}return p}function je(r){var p=q(r);switch(p){case"array":case"object":return"an "+p;case"boolean":case"date":case"regexp":return"a "+p;default:return p}}function fe(r){return!r.constructor||!r.constructor.name?z:r.constructor.name}return T.checkPropTypes=i,T.resetWarningCache=i.resetWarningCache,T.PropTypes=T,T}},"./node_modules/prop-types/index.js":(_,t,o)=>{{var x=o("./node_modules/react-is/index.js"),d=!0;_.exports=o("./node_modules/prop-types/factoryWithTypeCheckers.js")(x.isElement,d)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":_=>{var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";_.exports=t},"./node_modules/prop-types/lib/has.js":_=>{_.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(_,t)=>{(function(){var o=typeof Symbol=="function"&&Symbol.for,x=o?Symbol.for("react.element"):60103,d=o?Symbol.for("react.portal"):60106,h=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,i=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,b=o?Symbol.for("react.context"):60110,l=o?Symbol.for("react.async_mode"):60111,m=o?Symbol.for("react.concurrent_mode"):60111,w=o?Symbol.for("react.forward_ref"):60112,u=o?Symbol.for("react.suspense"):60113,j=o?Symbol.for("react.suspense_list"):60120,z=o?Symbol.for("react.memo"):60115,T=o?Symbol.for("react.lazy"):60116,U=o?Symbol.for("react.block"):60121,v=o?Symbol.for("react.fundamental"):60117,R=o?Symbol.for("react.responder"):60118,N=o?Symbol.for("react.scope"):60119;function M(f){return typeof f=="string"||typeof f=="function"||f===h||f===m||f===i||f===s||f===u||f===j||typeof f=="object"&&f!==null&&(f.$$typeof===T||f.$$typeof===z||f.$$typeof===c||f.$$typeof===b||f.$$typeof===w||f.$$typeof===v||f.$$typeof===R||f.$$typeof===N||f.$$typeof===U)}function E(f){if(typeof f=="object"&&f!==null){var B=f.$$typeof;switch(B){case x:var J=f.type;switch(J){case l:case m:case h:case i:case s:case u:return J;default:var Se=J&&J.$$typeof;switch(Se){case b:case w:case T:case z:case c:return Se;default:return B}}case d:return B}}}var F=l,G=m,Z=b,he=c,ge=x,_e=w,be=h,ue=T,ye=z,xe=d,re=i,we=s,V=u,q=!1;function je(f){return q||(q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),fe(f)||E(f)===l}function fe(f){return E(f)===m}function r(f){return E(f)===b}function p(f){return E(f)===c}function I(f){return typeof f=="object"&&f!==null&&f.$$typeof===x}function P(f){return E(f)===w}function C(f){return E(f)===h}function L(f){return E(f)===T}function S(f){return E(f)===z}function k(f){return E(f)===d}function Y(f){return E(f)===i}function Q(f){return E(f)===s}function $(f){return E(f)===u}t.AsyncMode=F,t.ConcurrentMode=G,t.ContextConsumer=Z,t.ContextProvider=he,t.Element=ge,t.ForwardRef=_e,t.Fragment=be,t.Lazy=ue,t.Memo=ye,t.Portal=xe,t.Profiler=re,t.StrictMode=we,t.Suspense=V,t.isAsyncMode=je,t.isConcurrentMode=fe,t.isContextConsumer=r,t.isContextProvider=p,t.isElement=I,t.isForwardRef=P,t.isFragment=C,t.isLazy=L,t.isMemo=S,t.isPortal=k,t.isProfiler=Y,t.isStrictMode=Q,t.isSuspense=$,t.isValidElementType=M,t.typeOf=E})()},"./node_modules/react-is/index.js":(_,t,o)=>{_.exports=o("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(_,t,o)=>{o.r(t),o.d(t,{shallowEqualArrays:()=>d,shallowEqualObjects:()=>x});function x(h,s){if(h===s)return!0;if(!h||!s)return!1;var i=Object.keys(h),c=Object.keys(s),b=i.length;if(c.length!==b)return!1;for(var l=0;l<b;l++){var m=i[l];if(h[m]!==s[m]||!Object.prototype.hasOwnProperty.call(s,m))return!1}return!0}function d(h,s){if(h===s)return!0;if(!h||!s)return!1;var i=h.length;if(s.length!==i)return!1;for(var c=0;c<i;c++)if(h[c]!==s[c])return!1;return!0}},"./src/Component.ts":function(_,t,o){var x=this&&this.__rest||function(i,c){var b={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&c.indexOf(l)<0&&(b[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,l=Object.getOwnPropertySymbols(i);m<l.length;m++)c.indexOf(l[m])<0&&Object.prototype.propertyIsEnumerable.call(i,l[m])&&(b[l[m]]=i[l[m]]);return b},d=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});var h=d(o("./src/useMediaQuery.ts")),s=function(i){var c=i.children,b=i.device,l=i.onChange,m=x(i,["children","device","onChange"]),w=(0,h.default)(m,b,l);return typeof c=="function"?c(w):w?c:null};t.default=s},"./src/Context.ts":(_,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});var x=o("react"),d=(0,x.createContext)(void 0);t.default=d},"./src/index.ts":function(_,t,o){var x=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var d=x(o("./src/useMediaQuery.ts"));t.useMediaQuery=d.default;var h=x(o("./src/Component.ts"));t.default=h.default;var s=x(o("./src/toQuery.ts"));t.toQuery=s.default;var i=x(o("./src/Context.ts"));t.Context=i.default},"./src/mediaQuery.ts":function(_,t,o){var x=this&&this.__assign||function(){return x=Object.assign||function(u){for(var j,z=1,T=arguments.length;z<T;z++){j=arguments[z];for(var U in j)Object.prototype.hasOwnProperty.call(j,U)&&(u[U]=j[U])}return u},x.apply(this,arguments)},d=this&&this.__rest||function(u,j){var z={};for(var T in u)Object.prototype.hasOwnProperty.call(u,T)&&j.indexOf(T)<0&&(z[T]=u[T]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,T=Object.getOwnPropertySymbols(u);U<T.length;U++)j.indexOf(T[U])<0&&Object.prototype.propertyIsEnumerable.call(u,T[U])&&(z[T[U]]=u[T[U]]);return z},h=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});var s=h(o("./node_modules/prop-types/index.js")),i=s.default.oneOfType([s.default.string,s.default.number]),c={all:s.default.bool,grid:s.default.bool,aural:s.default.bool,braille:s.default.bool,handheld:s.default.bool,print:s.default.bool,projection:s.default.bool,screen:s.default.bool,tty:s.default.bool,tv:s.default.bool,embossed:s.default.bool},b={orientation:s.default.oneOf(["portrait","landscape"]),scan:s.default.oneOf(["progressive","interlace"]),aspectRatio:s.default.string,deviceAspectRatio:s.default.string,height:i,deviceHeight:i,width:i,deviceWidth:i,color:s.default.bool,colorIndex:s.default.bool,monochrome:s.default.bool,resolution:i,type:Object.keys(c)};b.type;var l=d(b,["type"]),m=x({minAspectRatio:s.default.string,maxAspectRatio:s.default.string,minDeviceAspectRatio:s.default.string,maxDeviceAspectRatio:s.default.string,minHeight:i,maxHeight:i,minDeviceHeight:i,maxDeviceHeight:i,minWidth:i,maxWidth:i,minDeviceWidth:i,maxDeviceWidth:i,minColor:s.default.number,maxColor:s.default.number,minColorIndex:s.default.number,maxColorIndex:s.default.number,minMonochrome:s.default.number,maxMonochrome:s.default.number,minResolution:i,maxResolution:i},l),w=x(x({},c),m);t.default={all:w,types:c,matchers:b,features:m}},"./src/toQuery.ts":function(_,t,o){var x=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var d=x(o("./node_modules/hyphenate-style-name/index.js")),h=x(o("./src/mediaQuery.ts")),s=function(l){return"not ".concat(l)},i=function(l,m){var w=(0,d.default)(l);return typeof m=="number"&&(m="".concat(m,"px")),m===!0?w:m===!1?s(w):"(".concat(w,": ").concat(m,")")},c=function(l){return l.join(" and ")},b=function(l){var m=[];return Object.keys(h.default.all).forEach(function(w){var u=l[w];u!=null&&m.push(i(w,u))}),c(m)};t.default=b},"./src/useMediaQuery.ts":function(_,t,o){var x=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0});var d=o("react"),h=x(o("./node_modules/matchmediaquery/index.js")),s=x(o("./node_modules/hyphenate-style-name/index.js")),i=o("./node_modules/shallow-equal/dist/index.esm.js"),c=x(o("./src/toQuery.ts")),b=x(o("./src/Context.ts")),l=function(v){return v.query||(0,c.default)(v)},m=function(v){if(v){var R=Object.keys(v);return R.reduce(function(N,M){return N[(0,s.default)(M)]=v[M],N},{})}},w=function(){var v=(0,d.useRef)(!1);return(0,d.useEffect)(function(){v.current=!0},[]),v.current},u=function(v){var R=(0,d.useContext)(b.default),N=function(){return m(v)||m(R)},M=(0,d.useState)(N),E=M[0],F=M[1];return(0,d.useEffect)(function(){var G=N();(0,i.shallowEqualObjects)(E,G)||F(G)},[v,R]),E},j=function(v){var R=function(){return l(v)},N=(0,d.useState)(R),M=N[0],E=N[1];return(0,d.useEffect)(function(){var F=R();M!==F&&E(F)},[v]),M},z=function(v,R){var N=function(){return(0,h.default)(v,R||{},!!R)},M=(0,d.useState)(N),E=M[0],F=M[1],G=w();return(0,d.useEffect)(function(){if(G){var Z=N();return F(Z),function(){Z&&Z.dispose()}}},[v,R]),E},T=function(v){var R=(0,d.useState)(v.matches),N=R[0],M=R[1];return(0,d.useEffect)(function(){var E=function(F){M(F.matches)};return v.addListener(E),M(v.matches),function(){v.removeListener(E)}},[v]),N},U=function(v,R,N){var M=u(R),E=j(v);if(!E)throw new Error("Invalid or missing MediaQuery!");var F=z(E,M),G=T(F),Z=w();return(0,d.useEffect)(function(){Z&&N&&N(G)},[G]),(0,d.useEffect)(function(){return function(){F&&F.dispose()}},[]),G};t.default=U},react:_=>{_.exports=y}},O={};function H(_){var t=O[_];if(t!==void 0)return t.exports;var o=O[_]={exports:{}};return g[_].call(o.exports,o,o.exports,H),o.exports}H.d=(_,t)=>{for(var o in t)H.o(t,o)&&!H.o(_,o)&&Object.defineProperty(_,o,{enumerable:!0,get:t[o]})},H.o=(_,t)=>Object.prototype.hasOwnProperty.call(_,t),H.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var X=H("./src/index.ts");return X})())})(Le);var _r=Le.exports;const br=ae(()=>{const[e,a]=W.useState(0);return W.useEffect(()=>{const y=setInterval(()=>{if(!D.chatState.chatRainActive)return;let g=D.chatState.rainStartDate-Date.now();g<0&&(g=0),a(g)},100);return()=>{clearInterval(y)}},[]),n("div",{className:"h-[7px]",children:n(Ze,{backgroundClassName:"!rounded-[2px]",barClassName:"bg-accent",value:e,max:D.chatState.chatRainTime||0})})}),yr=()=>{var g;const[e,a]=W.useState(!1),y=W.useCallback(()=>{D.chatState.chatRainActive&&(D.chatState.joinedChatRain||(a(!0),te.sendWithCallback({ID:"joinChatRain"},O=>{if(a(!1),!!O.success){if(O.status==="MUTED"){me.error("You can't join chat rain while muted");return}me.success("You've joined chat rain")}})))},[a]);return A("div",{className:"bg-dark-850 p-3 flex flex-col gap-2 font-semibold",children:[A("div",{className:"flex w-full justify-between items-center",children:[A("span",{className:"  text-lg font-bold uppercase flex items-center gap-1.5 text-gray-400",children:["IT'S RAINING",n(Re,{size:21,forceCurrency:Ce.WL})]}),A("span",{className:"flex items-center gap-1 text-sm text-gray-500",children:[D.chatState.chatRainParticipants," joined"]})]}),!D.chatState.joinedChatRain&&A("span",{className:"text-gray-300 flex items-center gap-1  text-sm",children:["Join for a chance to win",A("span",{className:"flex gap-1 items-center",children:[D.chatState.chatRainReward||0,n(Re,{forceCurrency:Ce.WL,size:18})]})]}),n(br,{}),!D.chatState.joinedChatRain&&n(oe,{disabled:!D.user||!((g=D.user)!=null&&g.emailVerified)||D.chatState.joinedChatRain||D.user.XP<1||e,onClick:y,className:"w-full h-[35px]",children:D.chatState.joinedChatRain?"Joined":D.user&&!D.user.emailVerified?n(ne,{children:"You must verify your email to join."}):D.user&&D.user.XP<1?n(ne,{children:"You must be at least LVL 1 to join."}):"Join"})]})},xr=ae(yr),wr=W.forwardRef(({target:e},a)=>{const y=D.user?D.user.permissions:K.NONE,g=W.useContext(le),O=se();return A(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:de},ref:a,style:{left:e.position.x,top:e.position.y},className:"drop-shadow-md absolute z-30 bg-dark-700 min-w-[150px] p-1.5 rounded-sm flex items-start flex-col gap-1 text-sm font-semibold text-gray-400",children:[A("button",{onClick:()=>{O("user",{name:e.message.username}),g.setMessageOptionsTarget(null)},className:"flex justify-start items-center  transition-colors p-1 w-full hover:text-white gap-1.5",children:[n(Fe,{size:18})," View Profile"]}),A("button",{onClick:()=>{O("user",{name:e.message.username,tip:"true"}),g.setMessageOptionsTarget(null)},className:"flex justify-start items-center  transition-colors p-1 w-full hover:text-white gap-1.5",children:[n(Xe,{size:18})," Tip"]}),y>=K.MODERATOR&&A(ne,{children:[A("button",{onClick:()=>{O("mute",{username:e.message.username}),g.setMessageOptionsTarget(null)},className:"flex justify-start items-center  transition-colors p-1 w-full hover:text-white gap-1.5",children:[n(Ge,{size:18})," Mute"]}),A("button",{onClick:()=>{te.send({ID:"deleteChatMessage",messageID:e.message.ID}),g.setMessageOptionsTarget(null)},className:"flex justify-start items-center transition-colors p-1 w-full hover:text-white gap-1.5",children:[n(Je,{size:18})," Delete"]})]})]})}),jr=()=>{const e=W.useContext(le),a=W.useRef(null);return W.useEffect(()=>{const y=g=>{!a.current||!e.messageOptionsTarget||a.current.contains(g.target)||e.setMessageOptionsTarget(null)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a.current,e.messageOptionsTarget]),n(pe,{mode:"wait",children:e.messageOptionsTarget&&n(wr,{ref:a,target:e.messageOptionsTarget})})},Er=()=>{const e=W.useContext(Oe);return n("button",{className:"fixed left-0 z-10 max-sm:hidden shadow-lg top-1/4 bg-dark-700 w-[45px] h-[45px] flex justify-center items-center rounded-r-sm hover:-translate-y-1 transition-all",onClick:()=>e.setChatToggled(!0),children:n(Ke,{size:25})})},Tr=()=>{const e=W.useContext(Oe),[a,y]=W.useState(null);W.useEffect(()=>{localStorage.setItem("chatToggled",e.chatToggled.toString())},[e.chatToggled]);const g=_r.useMediaQuery({query:"(min-width: 1280px)"});return A(le.Provider,{value:{messageOptionsTarget:a,setMessageOptionsTarget:y},children:[n(Er,{}),n(pe,{mode:"wait",initial:!1,children:e.chatToggled&&A(ne,{children:[n(jr,{}),A(ie.aside,{className:ce(e.chatToggled?"xl:static":"xl:fixed","z-20 bg-dark-850 drop-shadow-xl shadow-lg top-[var(--header-height)] h-[var(--side-height-d)] max-sm:w-screen max-sm:h-[var(--side-height-m)] flex flex-col sm:max-w-[var(--chat-width)] w-full fixed left-0"),initial:{x:"-100%"},animate:{x:"0%"},exit:{x:"-100%"},transition:{duration:.5,ease:de},children:[g&&e.chatToggled&&n("div",{className:"w-full relative",children:n("button",{onClick:()=>e.setChatToggled(!1),className:"absolute h-[25px] w-[25px] p-1 right-[-25px] z-10 bg-dark-850 rounded-br-sm flex justify-center items-center",children:n(Ve,{size:18})})}),(e.chatToggled||g)&&A("div",{className:"flex flex-col h-full",children:[D.chatState.chatRainActive&&n(xr,{}),n(gr,{}),n(sr,{})]})]}),e.chatToggled&&!g&&n(ie.div,{className:ce("fixed left-0 top-0 bg-black h-screen w-screen z-10 xl:hidden"),initial:{opacity:0},animate:{opacity:.65},exit:{opacity:0},transition:{duration:.4,ease:de},onClick:()=>e.setChatToggled(!1)})]})})]})},Rr=ae(Tr);export{Rr as default};