import{R as n,a as u,d as i,j as a,au as k,A as C,n as N,E as S,F as m}from"./index-c4efdbaa.js";const O=({closeOnSelect:x=!0,maxMenuHeight:g=300,...t})=>{var h;const[o,d]=n.useState(t.defaultValue||""),[r,c]=n.useState(!1),f=n.useRef(null),[v,w]=n.useState(!1);n.useEffect(()=>{d(t.defaultValue||"")},[t.defaultValue]),n.useEffect(()=>{const e=l=>{var s;if((s=f.current)!=null&&s.contains(l.target)){l.stopPropagation();return}c(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}},[]);const b=e=>{var s;const l=(s=t.options.find(y=>y.value===e))==null?void 0:s.label;return l?a(m,{children:l}):a(m,{children:"Â "})};return u("div",{ref:f,className:i("relative flex justify-start whitespace-nowrap flex-col gap-1",t.containerClassName),children:[t.label&&a("span",{className:"text-sm font-medium text-white",children:t.label}),u("button",{onClick:()=>{c(!r)},className:i("bg-dark-700 gap-3 cursor-pointer transition-colors duration-200 ease-out border-2 rounded-sm relative py-1.5 px-2 flex w-full justify-between items-center",r?"text-gray-500 border-accent":"text-white border-dark-600",t.className),children:[a("span",{children:b(o)}),a(k,{size:12})]}),a(C,{children:r&&a(N.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:S},onAnimationComplete:e=>{w(e.opacity===1)},style:{maxHeight:g},className:i(v?"overflow-y-auto":"overflow-hidden","absolute bg-dark-700 drop-shadow-lg flex-col min-w-full top-[calc(100%+0.5rem)] z-10 rounded-sm gap-0.5"),children:a("div",{className:"p-1.5 flex  flex-col ",children:(h=t.options)==null?void 0:h.map(e=>u("button",{className:i("flex gap-2 text-gray-300 px-2 items-center transition-colors ease-smooth hover:text-white p-1.5 rounded-sm text-sm",e.value===o&&"bg-accent text-white",e.value!==o&&"hover:bg-dark-700"),onClick:l=>{t.onChange&&t.onChange(e.value),d(e.value),x&&c(!1),l.stopPropagation()},children:[e.icon&&a(e.icon,{size:16}),e.label]},e.value))})})})]})};export{O as S};